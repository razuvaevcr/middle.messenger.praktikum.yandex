(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))s(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const d of p.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function t(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function s(h){if(h.ep)return;h.ep=!0;const p=t(h);fetch(h.href,p)}})();class or{constructor(e,t,s){this.pathname=e,this._blockClass=t,this._block=null,this._props=s}navigate(e){this.match(e)||(this.pathname=e,this.render())}leave(){var e;this._block&&((e=this._block.getContent())==null||e.remove())}match(e){return lr(e,this.pathname)}render(){this._block||(this._block=new this._blockClass);const e=document.querySelector(this._props.rootQuery);this._block.dispatchComponentDidMount(),e.innerHTML="",e.append(this._block.getContent())}getPathname(){return this.pathname}}function lr(r,e){return r===e}class ue{constructor(e){if(ue.__instance)return ue.__instance;this.routes=[],this.history=window.history,this._currentRoute=null,this._rootQuery=e,ue.__instance=this}use(e,t){const s=new or(e,t,{rootQuery:this._rootQuery});return this.routes.push(s),this}start(){window.onpopstate=()=>{this._onRoute(window.location.pathname)},this._onRoute(window.location.pathname)}_onRoute(e){const t=this.getRoute(e);if(!t){this.go("/error404");return}this._currentRoute&&this._currentRoute.leave(),this._currentRoute=t,t.render()}go(e){this.history.pushState({},"",e),this._onRoute(e)}back(){this.history.back()}forward(){this.history.forward()}getRoute(e){return this.routes.find(t=>t.match(e))}}const M=new ue("#root");let ve;const ur=new Uint8Array(16);function cr(){if(!ve&&(ve=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ve))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ve(ur)}const O=[];for(let r=0;r<256;++r)O.push((r+256).toString(16).slice(1));function hr(r,e=0){return(O[r[e+0]]+O[r[e+1]]+O[r[e+2]]+O[r[e+3]]+"-"+O[r[e+4]]+O[r[e+5]]+"-"+O[r[e+6]]+O[r[e+7]]+"-"+O[r[e+8]]+O[r[e+9]]+"-"+O[r[e+10]]+O[r[e+11]]+O[r[e+12]]+O[r[e+13]]+O[r[e+14]]+O[r[e+15]]).toLowerCase()}const pr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mt={randomUUID:pr};function dr(r,e,t){if(mt.randomUUID&&!e&&!r)return mt.randomUUID();r=r||{};const s=r.random||(r.rng||cr)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){t=t||0;for(let h=0;h<16;++h)e[t+h]=s[h];return e}return hr(s)}class Bt{constructor(){this.listeners={}}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){if(!this.listeners[e])throw new Error(`Нет события: ${e}`);this.listeners[e]=this.listeners[e].filter(s=>s!==t)}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(s=>{s(...t)})}}function fr(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Re={exports:{}},Be={exports:{}},B={},x={};x.__esModule=!0;x.extend=Tt;x.indexOf=yr;x.escapeExpression=br;x.isEmpty=Sr;x.createFrame=wr;x.blockParams=Cr;x.appendContextPath=kr;var mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},gr=/[&<>"'`=]/g,vr=/[&<>"'`=]/;function _r(r){return mr[r]}function Tt(r){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&(r[t]=arguments[e][t]);return r}var it=Object.prototype.toString;x.toString=it;var Te=function(e){return typeof e=="function"};Te(/x/)&&(x.isFunction=Te=function(r){return typeof r=="function"&&it.call(r)==="[object Function]"});x.isFunction=Te;var Ut=Array.isArray||function(r){return r&&typeof r=="object"?it.call(r)==="[object Array]":!1};x.isArray=Ut;function yr(r,e){for(var t=0,s=r.length;t<s;t++)if(r[t]===e)return t;return-1}function br(r){if(typeof r!="string"){if(r&&r.toHTML)return r.toHTML();if(r==null)return"";if(!r)return r+"";r=""+r}return vr.test(r)?r.replace(gr,_r):r}function Sr(r){return!r&&r!==0?!0:!!(Ut(r)&&r.length===0)}function wr(r){var e=Tt({},r);return e._parent=r,e}function Cr(r,e){return r.path=e,r}function kr(r,e){return(r?r+".":"")+e}var Ue={exports:{}};(function(r,e){e.__esModule=!0;var t=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function s(h,p){var d=p&&p.loc,u=void 0,i=void 0,c=void 0,o=void 0;d&&(u=d.start.line,i=d.end.line,c=d.start.column,o=d.end.column,h+=" - "+u+":"+c);for(var f=Error.prototype.constructor.call(this,h),n=0;n<t.length;n++)this[t[n]]=f[t[n]];Error.captureStackTrace&&Error.captureStackTrace(this,s);try{d&&(this.lineNumber=u,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:o,enumerable:!0})):(this.column=c,this.endColumn=o))}catch{}}s.prototype=new Error,e.default=s,r.exports=e.default})(Ue,Ue.exports);var H=Ue.exports,pe={},He={exports:{}};(function(r,e){e.__esModule=!0;var t=x;e.default=function(s){s.registerHelper("blockHelperMissing",function(h,p){var d=p.inverse,u=p.fn;if(h===!0)return u(this);if(h===!1||h==null)return d(this);if(t.isArray(h))return h.length>0?(p.ids&&(p.ids=[p.name]),s.helpers.each(h,p)):d(this);if(p.data&&p.ids){var i=t.createFrame(p.data);i.contextPath=t.appendContextPath(p.data.contextPath,p.name),p={data:i}}return u(h,p)})},r.exports=e.default})(He,He.exports);var Er=He.exports,qe={exports:{}};(function(r,e){e.__esModule=!0;function t(d){return d&&d.__esModule?d:{default:d}}var s=x,h=H,p=t(h);e.default=function(d){d.registerHelper("each",function(u,i){if(!i)throw new p.default("Must pass iterator to #each");var c=i.fn,o=i.inverse,f=0,n="",l=void 0,a=void 0;i.data&&i.ids&&(a=s.appendContextPath(i.data.contextPath,i.ids[0])+"."),s.isFunction(u)&&(u=u.call(this)),i.data&&(l=s.createFrame(i.data));function m(g,y,C){l&&(l.key=g,l.index=y,l.first=y===0,l.last=!!C,a&&(l.contextPath=a+g)),n=n+c(u[g],{data:l,blockParams:s.blockParams([u[g],g],[a+g,null])})}if(u&&typeof u=="object")if(s.isArray(u))for(var v=u.length;f<v;f++)f in u&&m(f,f,f===u.length-1);else if(typeof Symbol=="function"&&u[Symbol.iterator]){for(var b=[],_=u[Symbol.iterator](),S=_.next();!S.done;S=_.next())b.push(S.value);u=b;for(var v=u.length;f<v;f++)m(f,f,f===u.length-1)}else(function(){var g=void 0;Object.keys(u).forEach(function(y){g!==void 0&&m(g,f-1),g=y,f++}),g!==void 0&&m(g,f-1,!0)})();return f===0&&(n=o(this)),n})},r.exports=e.default})(qe,qe.exports);var Pr=qe.exports,Fe={exports:{}};(function(r,e){e.__esModule=!0;function t(p){return p&&p.__esModule?p:{default:p}}var s=H,h=t(s);e.default=function(p){p.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new h.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},r.exports=e.default})(Fe,Fe.exports);var Nr=Fe.exports,Ve={exports:{}};(function(r,e){e.__esModule=!0;function t(d){return d&&d.__esModule?d:{default:d}}var s=x,h=H,p=t(h);e.default=function(d){d.registerHelper("if",function(u,i){if(arguments.length!=2)throw new p.default("#if requires exactly one argument");return s.isFunction(u)&&(u=u.call(this)),!i.hash.includeZero&&!u||s.isEmpty(u)?i.inverse(this):i.fn(this)}),d.registerHelper("unless",function(u,i){if(arguments.length!=2)throw new p.default("#unless requires exactly one argument");return d.helpers.if.call(this,u,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},r.exports=e.default})(Ve,Ve.exports);var xr=Ve.exports,Ge={exports:{}};(function(r,e){e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var s=[void 0],h=arguments[arguments.length-1],p=0;p<arguments.length-1;p++)s.push(arguments[p]);var d=1;h.hash.level!=null?d=h.hash.level:h.data&&h.data.level!=null&&(d=h.data.level),s[0]=d,t.log.apply(t,s)})},r.exports=e.default})(Ge,Ge.exports);var Lr=Ge.exports,We={exports:{}};(function(r,e){e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(s,h,p){return s&&p.lookupProperty(s,h)})},r.exports=e.default})(We,We.exports);var Mr=We.exports,Je={exports:{}};(function(r,e){e.__esModule=!0;function t(d){return d&&d.__esModule?d:{default:d}}var s=x,h=H,p=t(h);e.default=function(d){d.registerHelper("with",function(u,i){if(arguments.length!=2)throw new p.default("#with requires exactly one argument");s.isFunction(u)&&(u=u.call(this));var c=i.fn;if(s.isEmpty(u))return i.inverse(this);var o=i.data;return i.data&&i.ids&&(o=s.createFrame(i.data),o.contextPath=s.appendContextPath(i.data.contextPath,i.ids[0])),c(u,{data:o,blockParams:s.blockParams([u],[o&&o.contextPath])})})},r.exports=e.default})(Je,Je.exports);var Ir=Je.exports;pe.__esModule=!0;pe.registerDefaultHelpers=Kr;pe.moveHelperToHooks=zr;function Y(r){return r&&r.__esModule?r:{default:r}}var Ar=Er,Or=Y(Ar),Dr=Pr,Rr=Y(Dr),Br=Nr,Tr=Y(Br),Ur=xr,Hr=Y(Ur),qr=Lr,Fr=Y(qr),Vr=Mr,Gr=Y(Vr),Wr=Ir,Jr=Y(Wr);function Kr(r){Or.default(r),Rr.default(r),Tr.default(r),Hr.default(r),Fr.default(r),Gr.default(r),Jr.default(r)}function zr(r,e,t){r.helpers[e]&&(r.hooks[e]=r.helpers[e],t||delete r.helpers[e])}var ot={},Ke={exports:{}};(function(r,e){e.__esModule=!0;var t=x;e.default=function(s){s.registerDecorator("inline",function(h,p,d,u){var i=h;return p.partials||(p.partials={},i=function(c,o){var f=d.partials;d.partials=t.extend({},f,p.partials);var n=h(c,o);return d.partials=f,n}),p.partials[u.args[0]]=u.fn,i})},r.exports=e.default})(Ke,Ke.exports);var Qr=Ke.exports;ot.__esModule=!0;ot.registerDefaultDecorators=Xr;function jr(r){return r&&r.__esModule?r:{default:r}}var Zr=Qr,Yr=jr(Zr);function Xr(r){Yr.default(r)}var ze={exports:{}};(function(r,e){e.__esModule=!0;var t=x,s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(p){if(typeof p=="string"){var d=t.indexOf(s.methodMap,p.toLowerCase());d>=0?p=d:p=parseInt(p,10)}return p},log:function(p){if(p=s.lookupLevel(p),typeof console<"u"&&s.lookupLevel(s.level)<=p){var d=s.methodMap[p];console[d]||(d="log");for(var u=arguments.length,i=Array(u>1?u-1:0),c=1;c<u;c++)i[c-1]=arguments[c];console[d].apply(console,i)}}};e.default=s,r.exports=e.default})(ze,ze.exports);var Ht=ze.exports,re={},lt={};lt.__esModule=!0;lt.createNewLookupObject=es;var $r=x;function es(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];return $r.extend.apply(void 0,[Object.create(null)].concat(e))}re.__esModule=!0;re.createProtoAccessControl=ns;re.resultIsAllowed=as;re.resetLoggedProperties=os;function ts(r){return r&&r.__esModule?r:{default:r}}var gt=lt,rs=Ht,ss=ts(rs),we=Object.create(null);function ns(r){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var t=Object.create(null);return t.__proto__=!1,{properties:{whitelist:gt.createNewLookupObject(t,r.allowedProtoProperties),defaultValue:r.allowProtoPropertiesByDefault},methods:{whitelist:gt.createNewLookupObject(e,r.allowedProtoMethods),defaultValue:r.allowProtoMethodsByDefault}}}function as(r,e,t){return vt(typeof r=="function"?e.methods:e.properties,t)}function vt(r,e){return r.whitelist[e]!==void 0?r.whitelist[e]===!0:r.defaultValue!==void 0?r.defaultValue:(is(e),!1)}function is(r){we[r]!==!0&&(we[r]=!0,ss.default.log("error",'Handlebars: Access has been denied to resolve the property "'+r+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function os(){Object.keys(we).forEach(function(r){delete we[r]})}B.__esModule=!0;B.HandlebarsEnvironment=Qe;function qt(r){return r&&r.__esModule?r:{default:r}}var Z=x,ls=H,Pe=qt(ls),us=pe,cs=ot,hs=Ht,Ce=qt(hs),ps=re,ds="4.7.8";B.VERSION=ds;var fs=8;B.COMPILER_REVISION=fs;var ms=7;B.LAST_COMPATIBLE_COMPILER_REVISION=ms;var gs={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};B.REVISION_CHANGES=gs;var Ne="[object Object]";function Qe(r,e,t){this.helpers=r||{},this.partials=e||{},this.decorators=t||{},us.registerDefaultHelpers(this),cs.registerDefaultDecorators(this)}Qe.prototype={constructor:Qe,logger:Ce.default,log:Ce.default.log,registerHelper:function(e,t){if(Z.toString.call(e)===Ne){if(t)throw new Pe.default("Arg not supported with multiple helpers");Z.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(Z.toString.call(e)===Ne)Z.extend(this.partials,e);else{if(typeof t>"u")throw new Pe.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(Z.toString.call(e)===Ne){if(t)throw new Pe.default("Arg not supported with multiple decorators");Z.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){ps.resetLoggedProperties()}};var vs=Ce.default.log;B.log=vs;B.createFrame=Z.createFrame;B.logger=Ce.default;var je={exports:{}};(function(r,e){e.__esModule=!0;function t(s){this.string=s}t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},e.default=t,r.exports=e.default})(je,je.exports);var _s=je.exports,K={},ut={};ut.__esModule=!0;ut.wrapHelper=ys;function ys(r,e){if(typeof r!="function")return r;var t=function(){var h=arguments[arguments.length-1];return arguments[arguments.length-1]=e(h),r.apply(this,arguments)};return t}K.__esModule=!0;K.checkRevision=Es;K.template=Ps;K.wrapProgram=be;K.resolvePartial=Ns;K.invokePartial=xs;K.noop=Ft;function bs(r){return r&&r.__esModule?r:{default:r}}function Ss(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}var ws=x,F=Ss(ws),Cs=H,V=bs(Cs),G=B,_t=pe,ks=ut,yt=re;function Es(r){var e=r&&r[0]||1,t=G.COMPILER_REVISION;if(!(e>=G.LAST_COMPATIBLE_COMPILER_REVISION&&e<=G.COMPILER_REVISION))if(e<G.LAST_COMPATIBLE_COMPILER_REVISION){var s=G.REVISION_CHANGES[t],h=G.REVISION_CHANGES[e];throw new V.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+s+") or downgrade your runtime to an older version ("+h+").")}else throw new V.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+r[1]+").")}function Ps(r,e){if(!e)throw new V.default("No environment passed to template");if(!r||!r.main)throw new V.default("Unknown template object: "+typeof r);r.main.decorator=r.main_d,e.VM.checkRevision(r.compiler);var t=r.compiler&&r.compiler[0]===7;function s(d,u,i){i.hash&&(u=F.extend({},u,i.hash),i.ids&&(i.ids[0]=!0)),d=e.VM.resolvePartial.call(this,d,u,i);var c=F.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),o=e.VM.invokePartial.call(this,d,u,c);if(o==null&&e.compile&&(i.partials[i.name]=e.compile(d,r.compilerOptions,e),o=i.partials[i.name](u,c)),o!=null){if(i.indent){for(var f=o.split(`
`),n=0,l=f.length;n<l&&!(!f[n]&&n+1===l);n++)f[n]=i.indent+f[n];o=f.join(`
`)}return o}else throw new V.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")}var h={strict:function(u,i,c){if(!u||!(i in u))throw new V.default('"'+i+'" not defined in '+u,{loc:c});return h.lookupProperty(u,i)},lookupProperty:function(u,i){var c=u[i];if(c==null||Object.prototype.hasOwnProperty.call(u,i)||yt.resultIsAllowed(c,h.protoAccessControl,i))return c},lookup:function(u,i){for(var c=u.length,o=0;o<c;o++){var f=u[o]&&h.lookupProperty(u[o],i);if(f!=null)return u[o][i]}},lambda:function(u,i){return typeof u=="function"?u.call(i):u},escapeExpression:F.escapeExpression,invokePartial:s,fn:function(u){var i=r[u];return i.decorator=r[u+"_d"],i},programs:[],program:function(u,i,c,o,f){var n=this.programs[u],l=this.fn(u);return i||f||o||c?n=be(this,u,l,i,c,o,f):n||(n=this.programs[u]=be(this,u,l)),n},data:function(u,i){for(;u&&i--;)u=u._parent;return u},mergeIfNeeded:function(u,i){var c=u||i;return u&&i&&u!==i&&(c=F.extend({},i,u)),c},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:r.compiler};function p(d){var u=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],i=u.data;p._setup(u),!u.partial&&r.useData&&(i=Ls(d,i));var c=void 0,o=r.useBlockParams?[]:void 0;r.useDepths&&(u.depths?c=d!=u.depths[0]?[d].concat(u.depths):u.depths:c=[d]);function f(n){return""+r.main(h,n,h.helpers,h.partials,i,o,c)}return f=Vt(r.main,f,h,u.depths||[],i,o),f(d,u)}return p.isTop=!0,p._setup=function(d){if(d.partial)h.protoAccessControl=d.protoAccessControl,h.helpers=d.helpers,h.partials=d.partials,h.decorators=d.decorators,h.hooks=d.hooks;else{var u=F.extend({},e.helpers,d.helpers);Ms(u,h),h.helpers=u,r.usePartial&&(h.partials=h.mergeIfNeeded(d.partials,e.partials)),(r.usePartial||r.useDecorators)&&(h.decorators=F.extend({},e.decorators,d.decorators)),h.hooks={},h.protoAccessControl=yt.createProtoAccessControl(d);var i=d.allowCallsToHelperMissing||t;_t.moveHelperToHooks(h,"helperMissing",i),_t.moveHelperToHooks(h,"blockHelperMissing",i)}},p._child=function(d,u,i,c){if(r.useBlockParams&&!i)throw new V.default("must pass block params");if(r.useDepths&&!c)throw new V.default("must pass parent depths");return be(h,d,r[d],u,0,i,c)},p}function be(r,e,t,s,h,p,d){function u(i){var c=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],o=d;return d&&i!=d[0]&&!(i===r.nullContext&&d[0]===null)&&(o=[i].concat(d)),t(r,i,r.helpers,r.partials,c.data||s,p&&[c.blockParams].concat(p),o)}return u=Vt(t,u,r,d,s,p),u.program=e,u.depth=d?d.length:0,u.blockParams=h||0,u}function Ns(r,e,t){return r?!r.call&&!t.name&&(t.name=r,r=t.partials[r]):t.name==="@partial-block"?r=t.data["partial-block"]:r=t.partials[t.name],r}function xs(r,e,t){var s=t.data&&t.data["partial-block"];t.partial=!0,t.ids&&(t.data.contextPath=t.ids[0]||t.data.contextPath);var h=void 0;if(t.fn&&t.fn!==Ft&&function(){t.data=G.createFrame(t.data);var p=t.fn;h=t.data["partial-block"]=function(u){var i=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return i.data=G.createFrame(i.data),i.data["partial-block"]=s,p(u,i)},p.partials&&(t.partials=F.extend({},t.partials,p.partials))}(),r===void 0&&h&&(r=h),r===void 0)throw new V.default("The partial "+t.name+" could not be found");if(r instanceof Function)return r(e,t)}function Ft(){return""}function Ls(r,e){return(!e||!("root"in e))&&(e=e?G.createFrame(e):{},e.root=r),e}function Vt(r,e,t,s,h,p){if(r.decorator){var d={};e=r.decorator(e,d,t,s&&s[0],h,p,s),F.extend(e,d)}return e}function Ms(r,e){Object.keys(r).forEach(function(t){var s=r[t];r[t]=Is(s,e)})}function Is(r,e){var t=e.lookupProperty;return ks.wrapHelper(r,function(s){return F.extend({lookupProperty:t},s)})}var Ze={exports:{}};(function(r,e){e.__esModule=!0,e.default=function(t){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var s=globalThis.Handlebars;t.noConflict=function(){return globalThis.Handlebars===t&&(globalThis.Handlebars=s),t}},r.exports=e.default})(Ze,Ze.exports);var Gt=Ze.exports;(function(r,e){e.__esModule=!0;function t(_){return _&&_.__esModule?_:{default:_}}function s(_){if(_&&_.__esModule)return _;var S={};if(_!=null)for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(S[g]=_[g]);return S.default=_,S}var h=B,p=s(h),d=_s,u=t(d),i=H,c=t(i),o=x,f=s(o),n=K,l=s(n),a=Gt,m=t(a);function v(){var _=new p.HandlebarsEnvironment;return f.extend(_,p),_.SafeString=u.default,_.Exception=c.default,_.Utils=f,_.escapeExpression=f.escapeExpression,_.VM=l,_.template=function(S){return l.template(S,_)},_}var b=v();b.create=v,m.default(b),b.default=b,e.default=b,r.exports=e.default})(Be,Be.exports);var As=Be.exports,Ye={exports:{}};(function(r,e){e.__esModule=!0;var t={helpers:{helperExpression:function(h){return h.type==="SubExpression"||(h.type==="MustacheStatement"||h.type==="BlockStatement")&&!!(h.params&&h.params.length||h.hash)},scopedId:function(h){return/^\.|this\b/.test(h.original)},simpleId:function(h){return h.parts.length===1&&!t.helpers.scopedId(h)&&!h.depth}}};e.default=t,r.exports=e.default})(Ye,Ye.exports);var Wt=Ye.exports,de={},Xe={exports:{}};(function(r,e){e.__esModule=!0;var t=function(){var s={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(u,i,c,o,f,n,l){var a=n.length-1;switch(f){case 1:return n[a-1];case 2:this.$=o.prepareProgram(n[a]);break;case 3:this.$=n[a];break;case 4:this.$=n[a];break;case 5:this.$=n[a];break;case 6:this.$=n[a];break;case 7:this.$=n[a];break;case 8:this.$=n[a];break;case 9:this.$={type:"CommentStatement",value:o.stripComment(n[a]),strip:o.stripFlags(n[a],n[a]),loc:o.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:n[a],value:n[a],loc:o.locInfo(this._$)};break;case 11:this.$=o.prepareRawBlock(n[a-2],n[a-1],n[a],this._$);break;case 12:this.$={path:n[a-3],params:n[a-2],hash:n[a-1]};break;case 13:this.$=o.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!1,this._$);break;case 14:this.$=o.prepareBlock(n[a-3],n[a-2],n[a-1],n[a],!0,this._$);break;case 15:this.$={open:n[a-5],path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:o.stripFlags(n[a-5],n[a])};break;case 16:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:o.stripFlags(n[a-5],n[a])};break;case 17:this.$={path:n[a-4],params:n[a-3],hash:n[a-2],blockParams:n[a-1],strip:o.stripFlags(n[a-5],n[a])};break;case 18:this.$={strip:o.stripFlags(n[a-1],n[a-1]),program:n[a]};break;case 19:var m=o.prepareBlock(n[a-2],n[a-1],n[a],n[a],!1,this._$),v=o.prepareProgram([m],n[a-1].loc);v.chained=!0,this.$={strip:n[a-2].strip,program:v,chain:!0};break;case 20:this.$=n[a];break;case 21:this.$={path:n[a-1],strip:o.stripFlags(n[a-2],n[a])};break;case 22:this.$=o.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],o.stripFlags(n[a-4],n[a]),this._$);break;case 23:this.$=o.prepareMustache(n[a-3],n[a-2],n[a-1],n[a-4],o.stripFlags(n[a-4],n[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:n[a-3],params:n[a-2],hash:n[a-1],indent:"",strip:o.stripFlags(n[a-4],n[a]),loc:o.locInfo(this._$)};break;case 25:this.$=o.preparePartialBlock(n[a-2],n[a-1],n[a],this._$);break;case 26:this.$={path:n[a-3],params:n[a-2],hash:n[a-1],strip:o.stripFlags(n[a-4],n[a])};break;case 27:this.$=n[a];break;case 28:this.$=n[a];break;case 29:this.$={type:"SubExpression",path:n[a-3],params:n[a-2],hash:n[a-1],loc:o.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:n[a],loc:o.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:o.id(n[a-2]),value:n[a],loc:o.locInfo(this._$)};break;case 32:this.$=o.id(n[a-1]);break;case 33:this.$=n[a];break;case 34:this.$=n[a];break;case 35:this.$={type:"StringLiteral",value:n[a],original:n[a],loc:o.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(n[a]),original:Number(n[a]),loc:o.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:n[a]==="true",original:n[a]==="true",loc:o.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:o.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:o.locInfo(this._$)};break;case 40:this.$=n[a];break;case 41:this.$=n[a];break;case 42:this.$=o.preparePath(!0,n[a],this._$);break;case 43:this.$=o.preparePath(!1,n[a],this._$);break;case 44:n[a-2].push({part:o.id(n[a]),original:n[a],separator:n[a-1]}),this.$=n[a-2];break;case 45:this.$=[{part:o.id(n[a]),original:n[a]}];break;case 46:this.$=[];break;case 47:n[a-1].push(n[a]);break;case 48:this.$=[];break;case 49:n[a-1].push(n[a]);break;case 50:this.$=[];break;case 51:n[a-1].push(n[a]);break;case 58:this.$=[];break;case 59:n[a-1].push(n[a]);break;case 64:this.$=[];break;case 65:n[a-1].push(n[a]);break;case 70:this.$=[];break;case 71:n[a-1].push(n[a]);break;case 78:this.$=[];break;case 79:n[a-1].push(n[a]);break;case 82:this.$=[];break;case 83:n[a-1].push(n[a]);break;case 86:this.$=[];break;case 87:n[a-1].push(n[a]);break;case 90:this.$=[];break;case 91:n[a-1].push(n[a]);break;case 94:this.$=[];break;case 95:n[a-1].push(n[a]);break;case 98:this.$=[n[a]];break;case 99:n[a-1].push(n[a]);break;case 100:this.$=[n[a]];break;case 101:n[a-1].push(n[a]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(u,i){throw new Error(u)},parse:function(u){var i=this,c=[0],o=[null],f=[],n=this.table,l="",a=0,m=0;this.lexer.setInput(u),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var v=this.lexer.yylloc;f.push(v);var b=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function _(){var te;return te=i.lexer.lex()||1,typeof te!="number"&&(te=i.symbols_[te]||te),te}for(var S,g,y,C,w={},E,L,N,A;;){if(g=c[c.length-1],this.defaultActions[g]?y=this.defaultActions[g]:((S===null||typeof S>"u")&&(S=_()),y=n[g]&&n[g][S]),typeof y>"u"||!y.length||!y[0]){var ee="";{A=[];for(E in n[g])this.terminals_[E]&&E>2&&A.push("'"+this.terminals_[E]+"'");this.lexer.showPosition?ee="Parse error on line "+(a+1)+`:
`+this.lexer.showPosition()+`
Expecting `+A.join(", ")+", got '"+(this.terminals_[S]||S)+"'":ee="Parse error on line "+(a+1)+": Unexpected "+(S==1?"end of input":"'"+(this.terminals_[S]||S)+"'"),this.parseError(ee,{text:this.lexer.match,token:this.terminals_[S]||S,line:this.lexer.yylineno,loc:v,expected:A})}}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+S);switch(y[0]){case 1:c.push(S),o.push(this.lexer.yytext),f.push(this.lexer.yylloc),c.push(y[1]),S=null,m=this.lexer.yyleng,l=this.lexer.yytext,a=this.lexer.yylineno,v=this.lexer.yylloc;break;case 2:if(L=this.productions_[y[1]][1],w.$=o[o.length-L],w._$={first_line:f[f.length-(L||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(L||1)].first_column,last_column:f[f.length-1].last_column},b&&(w._$.range=[f[f.length-(L||1)].range[0],f[f.length-1].range[1]]),C=this.performAction.call(w,l,m,a,this.yy,y[1],o,f),typeof C<"u")return C;L&&(c=c.slice(0,-1*L*2),o=o.slice(0,-1*L),f=f.slice(0,-1*L)),c.push(this.productions_[y[1]][0]),o.push(w.$),f.push(w._$),N=n[c[c.length-2]][c[c.length-1]],c.push(N);break;case 3:return!0}}return!0}},h=function(){var d={EOF:1,parseError:function(i,c){if(this.yy.parser)this.yy.parser.parseError(i,c);else throw new Error(i)},setInput:function(i){return this._input=i,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var i=this._input[0];this.yytext+=i,this.yyleng++,this.offset++,this.match+=i,this.matched+=i;var c=i.match(/(?:\r\n?|\n).*/g);return c?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),i},unput:function(i){var c=i.length,o=i.split(/(?:\r\n?|\n)/g);this._input=i+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-c-1),this.offset-=c;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),o.length-1&&(this.yylineno-=o.length-1);var n=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:o?(o.length===f.length?this.yylloc.first_column:0)+f[f.length-o.length].length-o[0].length:this.yylloc.first_column-c},this.options.ranges&&(this.yylloc.range=[n[0],n[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(i){this.unput(this.match.slice(i))},pastInput:function(){var i=this.matched.substr(0,this.matched.length-this.match.length);return(i.length>20?"...":"")+i.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var i=this.match;return i.length<20&&(i+=this._input.substr(0,20-i.length)),(i.substr(0,20)+(i.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var i=this.pastInput(),c=new Array(i.length+1).join("-");return i+this.upcomingInput()+`
`+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var i,c,o,f,n;this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),a=0;a<l.length&&(o=this._input.match(this.rules[l[a]]),!(o&&(!c||o[0].length>c[0].length)&&(c=o,f=a,!this.options.flex)));a++);return c?(n=c[0].match(/(?:\r\n?|\n).*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],i=this.performAction.call(this,this.yy,this,l[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var i=this.next();return typeof i<"u"?i:this.lex()},begin:function(i){this.conditionStack.push(i)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(i){this.begin(i)}};return d.options={},d.performAction=function(i,c,o,f){function n(l,a){return c.yytext=c.yytext.substring(l,c.yyleng-a+l)}switch(o){case 0:if(c.yytext.slice(-2)==="\\\\"?(n(0,1),this.begin("mu")):c.yytext.slice(-1)==="\\"?(n(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(n(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=n(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=n(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},d.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],d.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},d}();s.lexer=h;function p(){this.yy={}}return p.prototype=s,s.Parser=p,new p}();e.default=t,r.exports=e.default})(Xe,Xe.exports);var Os=Xe.exports,$e={exports:{}},et={exports:{}};(function(r,e){e.__esModule=!0;function t(c){return c&&c.__esModule?c:{default:c}}var s=H,h=t(s);function p(){this.parents=[]}p.prototype={constructor:p,mutating:!1,acceptKey:function(o,f){var n=this.accept(o[f]);if(this.mutating){if(n&&!p.prototype[n.type])throw new h.default('Unexpected node type "'+n.type+'" found when accepting '+f+" on "+o.type);o[f]=n}},acceptRequired:function(o,f){if(this.acceptKey(o,f),!o[f])throw new h.default(o.type+" requires "+f)},acceptArray:function(o){for(var f=0,n=o.length;f<n;f++)this.acceptKey(o,f),o[f]||(o.splice(f,1),f--,n--)},accept:function(o){if(o){if(!this[o.type])throw new h.default("Unknown type: "+o.type,o);this.current&&this.parents.unshift(this.current),this.current=o;var f=this[o.type](o);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return o}},Program:function(o){this.acceptArray(o.body)},MustacheStatement:d,Decorator:d,BlockStatement:u,DecoratorBlock:u,PartialStatement:i,PartialBlockStatement:function(o){i.call(this,o),this.acceptKey(o,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:d,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(o){this.acceptArray(o.pairs)},HashPair:function(o){this.acceptRequired(o,"value")}};function d(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}function u(c){d.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}function i(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}e.default=p,r.exports=e.default})(et,et.exports);var Jt=et.exports;(function(r,e){e.__esModule=!0;function t(o){return o&&o.__esModule?o:{default:o}}var s=Jt,h=t(s);function p(){var o=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=o}p.prototype=new h.default,p.prototype.Program=function(o){var f=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var l=o.body,a=0,m=l.length;a<m;a++){var v=l[a],b=this.accept(v);if(b){var _=d(l,a,n),S=u(l,a,n),g=b.openStandalone&&_,y=b.closeStandalone&&S,C=b.inlineStandalone&&_&&S;b.close&&i(l,a,!0),b.open&&c(l,a,!0),f&&C&&(i(l,a),c(l,a)&&v.type==="PartialStatement"&&(v.indent=/([ \t]+$)/.exec(l[a-1].original)[1])),f&&g&&(i((v.program||v.inverse).body),c(l,a)),f&&y&&(i(l,a),c((v.inverse||v.program).body))}}return o},p.prototype.BlockStatement=p.prototype.DecoratorBlock=p.prototype.PartialBlockStatement=function(o){this.accept(o.program),this.accept(o.inverse);var f=o.program||o.inverse,n=o.program&&o.inverse,l=n,a=n;if(n&&n.chained)for(l=n.body[0].program;a.chained;)a=a.body[a.body.length-1].program;var m={open:o.openStrip.open,close:o.closeStrip.close,openStandalone:u(f.body),closeStandalone:d((l||f).body)};if(o.openStrip.close&&i(f.body,null,!0),n){var v=o.inverseStrip;v.open&&c(f.body,null,!0),v.close&&i(l.body,null,!0),o.closeStrip.open&&c(a.body,null,!0),!this.options.ignoreStandalone&&d(f.body)&&u(l.body)&&(c(f.body),i(l.body))}else o.closeStrip.open&&c(f.body,null,!0);return m},p.prototype.Decorator=p.prototype.MustacheStatement=function(o){return o.strip},p.prototype.PartialStatement=p.prototype.CommentStatement=function(o){var f=o.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function d(o,f,n){f===void 0&&(f=o.length);var l=o[f-1],a=o[f-2];if(!l)return n;if(l.type==="ContentStatement")return(a||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(l.original)}function u(o,f,n){f===void 0&&(f=-1);var l=o[f+1],a=o[f+2];if(!l)return n;if(l.type==="ContentStatement")return(a||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(l.original)}function i(o,f,n){var l=o[f==null?0:f+1];if(!(!l||l.type!=="ContentStatement"||!n&&l.rightStripped)){var a=l.value;l.value=l.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),l.rightStripped=l.value!==a}}function c(o,f,n){var l=o[f==null?o.length-1:f-1];if(!(!l||l.type!=="ContentStatement"||!n&&l.leftStripped)){var a=l.value;return l.value=l.value.replace(n?/\s+$/:/[ \t]+$/,""),l.leftStripped=l.value!==a,l.leftStripped}}e.default=p,r.exports=e.default})($e,$e.exports);var Ds=$e.exports,T={};T.__esModule=!0;T.SourceLocation=Ts;T.id=Us;T.stripFlags=Hs;T.stripComment=qs;T.preparePath=Fs;T.prepareMustache=Vs;T.prepareRawBlock=Gs;T.prepareBlock=Ws;T.prepareProgram=Js;T.preparePartialBlock=Ks;function Rs(r){return r&&r.__esModule?r:{default:r}}var Bs=H,ct=Rs(Bs);function ht(r,e){if(e=e.path?e.path.original:e,r.path.original!==e){var t={loc:r.path.loc};throw new ct.default(r.path.original+" doesn't match "+e,t)}}function Ts(r,e){this.source=r,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function Us(r){return/^\[.*\]$/.test(r)?r.substring(1,r.length-1):r}function Hs(r,e){return{open:r.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function qs(r){return r.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Fs(r,e,t){t=this.locInfo(t);for(var s=r?"@":"",h=[],p=0,d=0,u=e.length;d<u;d++){var i=e[d].part,c=e[d].original!==i;if(s+=(e[d].separator||"")+i,!c&&(i===".."||i==="."||i==="this")){if(h.length>0)throw new ct.default("Invalid path: "+s,{loc:t});i===".."&&p++}else h.push(i)}return{type:"PathExpression",data:r,depth:p,parts:h,original:s,loc:t}}function Vs(r,e,t,s,h,p){var d=s.charAt(3)||s.charAt(2),u=d!=="{"&&d!=="&",i=/\*/.test(s);return{type:i?"Decorator":"MustacheStatement",path:r,params:e,hash:t,escaped:u,strip:h,loc:this.locInfo(p)}}function Gs(r,e,t,s){ht(r,t),s=this.locInfo(s);var h={type:"Program",body:e,strip:{},loc:s};return{type:"BlockStatement",path:r.path,params:r.params,hash:r.hash,program:h,openStrip:{},inverseStrip:{},closeStrip:{},loc:s}}function Ws(r,e,t,s,h,p){s&&s.path&&ht(r,s);var d=/\*/.test(r.open);e.blockParams=r.blockParams;var u=void 0,i=void 0;if(t){if(d)throw new ct.default("Unexpected inverse block on decorator",t);t.chain&&(t.program.body[0].closeStrip=s.strip),i=t.strip,u=t.program}return h&&(h=u,u=e,e=h),{type:d?"DecoratorBlock":"BlockStatement",path:r.path,params:r.params,hash:r.hash,program:e,inverse:u,openStrip:r.strip,inverseStrip:i,closeStrip:s&&s.strip,loc:this.locInfo(p)}}function Js(r,e){if(!e&&r.length){var t=r[0].loc,s=r[r.length-1].loc;t&&s&&(e={source:t.source,start:{line:t.start.line,column:t.start.column},end:{line:s.end.line,column:s.end.column}})}return{type:"Program",body:r,strip:{},loc:e}}function Ks(r,e,t,s){return ht(r,t),{type:"PartialBlockStatement",name:r.path,params:r.params,hash:r.hash,program:e,openStrip:r.strip,closeStrip:t&&t.strip,loc:this.locInfo(s)}}de.__esModule=!0;de.parseWithoutProcessing=zt;de.parse=en;function zs(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function Kt(r){return r&&r.__esModule?r:{default:r}}var Qs=Os,tt=Kt(Qs),js=Ds,Zs=Kt(js),Ys=T,Xs=zs(Ys),$s=x;de.parser=tt.default;var Se={};$s.extend(Se,Xs);function zt(r,e){if(r.type==="Program")return r;tt.default.yy=Se,Se.locInfo=function(s){return new Se.SourceLocation(e&&e.srcName,s)};var t=tt.default.parse(r);return t}function en(r,e){var t=zt(r,e),s=new Zs.default(e);return s.accept(t)}var fe={};fe.__esModule=!0;fe.Compiler=rt;fe.precompile=nn;fe.compile=an;function Qt(r){return r&&r.__esModule?r:{default:r}}var tn=H,ce=Qt(tn),he=x,rn=Wt,ne=Qt(rn),sn=[].slice;function rt(){}rt.prototype={compiler:rt,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var s=0;s<t;s++){var h=this.opcodes[s],p=e.opcodes[s];if(h.opcode!==p.opcode||!jt(h.args,p.args))return!1}t=this.children.length;for(var s=0;s<t;s++)if(!this.children[s].equals(e.children[s]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=he.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=new this.compiler,s=t.compile(e,this.options),h=this.guid++;return this.usePartial=this.usePartial||s.usePartial,this.children[h]=s,this.useDepths=this.useDepths||s.useDepths,h},accept:function(e){if(!this[e.type])throw new ce.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,s=t.length,h=0;h<s;h++)this.accept(t[h]);return this.options.blockParams.shift(),this.isSimple=s===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){bt(e);var t=e.program,s=e.inverse;t=t&&this.compileProgram(t),s=s&&this.compileProgram(s);var h=this.classifySexpr(e);h==="helper"?this.helperSexpr(e,t,s):h==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,s),this.opcode("pushProgram",t),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),s=this.setupFullMustacheParams(e,t,void 0),h=e.path;this.useDecorators=!0,this.opcode("registerDecorator",s.length,h.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var s=e.params;if(s.length>1)throw new ce.default("Unsupported number of partial arguments: "+s.length,e);s.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):s.push({type:"PathExpression",parts:[],depth:0}));var h=e.name.original,p=e.name.type==="SubExpression";p&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var d=e.indent||"";this.options.preventIndent&&d&&(this.opcode("appendContent",d),d=""),this.opcode("invokePartial",p,h,d),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){bt(e);var t=this.classifySexpr(e);t==="simple"?this.simpleSexpr(e):t==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,s){var h=e.path,p=h.parts[0],d=t!=null||s!=null;this.opcode("getContext",h.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",s),h.strict=!0,this.accept(h),this.opcode("invokeAmbiguous",p,d)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,s){var h=this.setupFullMustacheParams(e,t,s),p=e.path,d=p.parts[0];if(this.options.knownHelpers[d])this.opcode("invokeKnownHelper",h.length,d);else{if(this.options.knownHelpersOnly)throw new ce.default("You specified knownHelpersOnly, but used the unknown helper "+d,e);p.strict=!0,p.falsy=!0,this.accept(p),this.opcode("invokeHelper",h.length,p.original,ne.default.helpers.simpleId(p))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],s=ne.default.helpers.scopedId(e),h=!e.depth&&!s&&this.blockParamIndex(t);h?this.opcode("lookupBlockParam",h,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,s):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,s=0,h=t.length;for(this.opcode("pushHash");s<h;s++)this.pushParam(t[s].value);for(;s--;)this.opcode("assignToHash",t[s].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:sn.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=ne.default.helpers.simpleId(e.path),s=t&&!!this.blockParamIndex(e.path.parts[0]),h=!s&&ne.default.helpers.helperExpression(e),p=!s&&(h||t);if(p&&!h){var d=e.path.parts[0],u=this.options;u.knownHelpers[d]?h=!0:u.knownHelpersOnly&&(p=!1)}return h?"helper":p?"ambiguous":"simple"},pushParams:function(e){for(var t=0,s=e.length;t<s;t++)this.pushParam(e[t])},pushParam:function(e){var t=e.value!=null?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var s=void 0;if(e.parts&&!ne.default.helpers.scopedId(e)&&!e.depth&&(s=this.blockParamIndex(e.parts[0])),s){var h=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,h)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,s,h){var p=e.params;return this.pushParams(p),this.opcode("pushProgram",t),this.opcode("pushProgram",s),e.hash?this.accept(e.hash):this.opcode("emptyHash",h),p},blockParamIndex:function(e){for(var t=0,s=this.options.blockParams.length;t<s;t++){var h=this.options.blockParams[t],p=h&&he.indexOf(h,e);if(h&&p>=0)return[t,p]}}};function nn(r,e,t){if(r==null||typeof r!="string"&&r.type!=="Program")throw new ce.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+r);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=t.parse(r,e),h=new t.Compiler().compile(s,e);return new t.JavaScriptCompiler().compile(h,e)}function an(r,e,t){if(e===void 0&&(e={}),r==null||typeof r!="string"&&r.type!=="Program")throw new ce.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+r);e=he.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var s=void 0;function h(){var d=t.parse(r,e),u=new t.Compiler().compile(d,e),i=new t.JavaScriptCompiler().compile(u,e,void 0,!0);return t.template(i)}function p(d,u){return s||(s=h()),s.call(this,d,u)}return p._setup=function(d){return s||(s=h()),s._setup(d)},p._child=function(d,u,i,c){return s||(s=h()),s._child(d,u,i,c)},p}function jt(r,e){if(r===e)return!0;if(he.isArray(r)&&he.isArray(e)&&r.length===e.length){for(var t=0;t<r.length;t++)if(!jt(r[t],e[t]))return!1;return!0}}function bt(r){if(!r.path.parts){var e=r.path;r.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var st={exports:{}},nt={exports:{}},ae={},xe={},_e={},ye={},St;function on(){if(St)return ye;St=1;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return ye.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError("Must be between 0 and 63: "+e)},ye.decode=function(e){var t=65,s=90,h=97,p=122,d=48,u=57,i=43,c=47,o=26,f=52;return t<=e&&e<=s?e-t:h<=e&&e<=p?e-h+o:d<=e&&e<=u?e-d+f:e==i?62:e==c?63:-1},ye}var wt;function Zt(){if(wt)return _e;wt=1;var r=on(),e=5,t=1<<e,s=t-1,h=t;function p(u){return u<0?(-u<<1)+1:(u<<1)+0}function d(u){var i=(u&1)===1,c=u>>1;return i?-c:c}return _e.encode=function(i){var c="",o,f=p(i);do o=f&s,f>>>=e,f>0&&(o|=h),c+=r.encode(o);while(f>0);return c},_e.decode=function(i,c,o){var f=i.length,n=0,l=0,a,m;do{if(c>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(m=r.decode(i.charCodeAt(c++)),m===-1)throw new Error("Invalid base64 digit: "+i.charAt(c-1));a=!!(m&h),m&=s,n=n+(m<<l),l+=e}while(a);o.value=d(n),o.rest=c},_e}var Le={},Ct;function me(){return Ct||(Ct=1,function(r){function e(g,y,C){if(y in g)return g[y];if(arguments.length===3)return C;throw new Error('"'+y+'" is a required argument.')}r.getArg=e;var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,s=/^data:.+\,.+$/;function h(g){var y=g.match(t);return y?{scheme:y[1],auth:y[2],host:y[3],port:y[4],path:y[5]}:null}r.urlParse=h;function p(g){var y="";return g.scheme&&(y+=g.scheme+":"),y+="//",g.auth&&(y+=g.auth+"@"),g.host&&(y+=g.host),g.port&&(y+=":"+g.port),g.path&&(y+=g.path),y}r.urlGenerate=p;function d(g){var y=g,C=h(g);if(C){if(!C.path)return g;y=C.path}for(var w=r.isAbsolute(y),E=y.split(/\/+/),L,N=0,A=E.length-1;A>=0;A--)L=E[A],L==="."?E.splice(A,1):L===".."?N++:N>0&&(L===""?(E.splice(A+1,N),N=0):(E.splice(A,2),N--));return y=E.join("/"),y===""&&(y=w?"/":"."),C?(C.path=y,p(C)):y}r.normalize=d;function u(g,y){g===""&&(g="."),y===""&&(y=".");var C=h(y),w=h(g);if(w&&(g=w.path||"/"),C&&!C.scheme)return w&&(C.scheme=w.scheme),p(C);if(C||y.match(s))return y;if(w&&!w.host&&!w.path)return w.host=y,p(w);var E=y.charAt(0)==="/"?y:d(g.replace(/\/+$/,"")+"/"+y);return w?(w.path=E,p(w)):E}r.join=u,r.isAbsolute=function(g){return g.charAt(0)==="/"||t.test(g)};function i(g,y){g===""&&(g="."),g=g.replace(/\/$/,"");for(var C=0;y.indexOf(g+"/")!==0;){var w=g.lastIndexOf("/");if(w<0||(g=g.slice(0,w),g.match(/^([^\/]+:\/)?\/*$/)))return y;++C}return Array(C+1).join("../")+y.substr(g.length+1)}r.relative=i;var c=function(){var g=Object.create(null);return!("__proto__"in g)}();function o(g){return g}function f(g){return l(g)?"$"+g:g}r.toSetString=c?o:f;function n(g){return l(g)?g.slice(1):g}r.fromSetString=c?o:n;function l(g){if(!g)return!1;var y=g.length;if(y<9||g.charCodeAt(y-1)!==95||g.charCodeAt(y-2)!==95||g.charCodeAt(y-3)!==111||g.charCodeAt(y-4)!==116||g.charCodeAt(y-5)!==111||g.charCodeAt(y-6)!==114||g.charCodeAt(y-7)!==112||g.charCodeAt(y-8)!==95||g.charCodeAt(y-9)!==95)return!1;for(var C=y-10;C>=0;C--)if(g.charCodeAt(C)!==36)return!1;return!0}function a(g,y,C){var w=v(g.source,y.source);return w!==0||(w=g.originalLine-y.originalLine,w!==0)||(w=g.originalColumn-y.originalColumn,w!==0||C)||(w=g.generatedColumn-y.generatedColumn,w!==0)||(w=g.generatedLine-y.generatedLine,w!==0)?w:v(g.name,y.name)}r.compareByOriginalPositions=a;function m(g,y,C){var w=g.generatedLine-y.generatedLine;return w!==0||(w=g.generatedColumn-y.generatedColumn,w!==0||C)||(w=v(g.source,y.source),w!==0)||(w=g.originalLine-y.originalLine,w!==0)||(w=g.originalColumn-y.originalColumn,w!==0)?w:v(g.name,y.name)}r.compareByGeneratedPositionsDeflated=m;function v(g,y){return g===y?0:g===null?1:y===null?-1:g>y?1:-1}function b(g,y){var C=g.generatedLine-y.generatedLine;return C!==0||(C=g.generatedColumn-y.generatedColumn,C!==0)||(C=v(g.source,y.source),C!==0)||(C=g.originalLine-y.originalLine,C!==0)||(C=g.originalColumn-y.originalColumn,C!==0)?C:v(g.name,y.name)}r.compareByGeneratedPositionsInflated=b;function _(g){return JSON.parse(g.replace(/^\)]}'[^\n]*\n/,""))}r.parseSourceMapInput=_;function S(g,y,C){if(y=y||"",g&&(g[g.length-1]!=="/"&&y[0]!=="/"&&(g+="/"),y=g+y),C){var w=h(C);if(!w)throw new Error("sourceMapURL could not be parsed");if(w.path){var E=w.path.lastIndexOf("/");E>=0&&(w.path=w.path.substring(0,E+1))}y=u(p(w),y)}return d(y)}r.computeSourceURL=S}(Le)),Le}var Me={},kt;function Yt(){if(kt)return Me;kt=1;var r=me(),e=Object.prototype.hasOwnProperty,t=typeof Map<"u";function s(){this._array=[],this._set=t?new Map:Object.create(null)}return s.fromArray=function(p,d){for(var u=new s,i=0,c=p.length;i<c;i++)u.add(p[i],d);return u},s.prototype.size=function(){return t?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(p,d){var u=t?p:r.toSetString(p),i=t?this.has(p):e.call(this._set,u),c=this._array.length;(!i||d)&&this._array.push(p),i||(t?this._set.set(p,c):this._set[u]=c)},s.prototype.has=function(p){if(t)return this._set.has(p);var d=r.toSetString(p);return e.call(this._set,d)},s.prototype.indexOf=function(p){if(t){var d=this._set.get(p);if(d>=0)return d}else{var u=r.toSetString(p);if(e.call(this._set,u))return this._set[u]}throw new Error('"'+p+'" is not in the set.')},s.prototype.at=function(p){if(p>=0&&p<this._array.length)return this._array[p];throw new Error("No element indexed by "+p)},s.prototype.toArray=function(){return this._array.slice()},Me.ArraySet=s,Me}var Ie={},Et;function ln(){if(Et)return Ie;Et=1;var r=me();function e(s,h){var p=s.generatedLine,d=h.generatedLine,u=s.generatedColumn,i=h.generatedColumn;return d>p||d==p&&i>=u||r.compareByGeneratedPositionsInflated(s,h)<=0}function t(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return t.prototype.unsortedForEach=function(h,p){this._array.forEach(h,p)},t.prototype.add=function(h){e(this._last,h)?(this._last=h,this._array.push(h)):(this._sorted=!1,this._array.push(h))},t.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},Ie.MappingList=t,Ie}var Pt;function Xt(){if(Pt)return xe;Pt=1;var r=Zt(),e=me(),t=Yt().ArraySet,s=ln().MappingList;function h(p){p||(p={}),this._file=e.getArg(p,"file",null),this._sourceRoot=e.getArg(p,"sourceRoot",null),this._skipValidation=e.getArg(p,"skipValidation",!1),this._sources=new t,this._names=new t,this._mappings=new s,this._sourcesContents=null}return h.prototype._version=3,h.fromSourceMap=function(d){var u=d.sourceRoot,i=new h({file:d.file,sourceRoot:u});return d.eachMapping(function(c){var o={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(o.source=c.source,u!=null&&(o.source=e.relative(u,o.source)),o.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(o.name=c.name)),i.addMapping(o)}),d.sources.forEach(function(c){var o=c;u!==null&&(o=e.relative(u,c)),i._sources.has(o)||i._sources.add(o);var f=d.sourceContentFor(c);f!=null&&i.setSourceContent(c,f)}),i},h.prototype.addMapping=function(d){var u=e.getArg(d,"generated"),i=e.getArg(d,"original",null),c=e.getArg(d,"source",null),o=e.getArg(d,"name",null);this._skipValidation||this._validateMapping(u,i,c,o),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:u.line,generatedColumn:u.column,originalLine:i!=null&&i.line,originalColumn:i!=null&&i.column,source:c,name:o})},h.prototype.setSourceContent=function(d,u){var i=d;this._sourceRoot!=null&&(i=e.relative(this._sourceRoot,i)),u!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(i)]=u):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(i)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},h.prototype.applySourceMap=function(d,u,i){var c=u;if(u==null){if(d.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=d.file}var o=this._sourceRoot;o!=null&&(c=e.relative(o,c));var f=new t,n=new t;this._mappings.unsortedForEach(function(l){if(l.source===c&&l.originalLine!=null){var a=d.originalPositionFor({line:l.originalLine,column:l.originalColumn});a.source!=null&&(l.source=a.source,i!=null&&(l.source=e.join(i,l.source)),o!=null&&(l.source=e.relative(o,l.source)),l.originalLine=a.line,l.originalColumn=a.column,a.name!=null&&(l.name=a.name))}var m=l.source;m!=null&&!f.has(m)&&f.add(m);var v=l.name;v!=null&&!n.has(v)&&n.add(v)},this),this._sources=f,this._names=n,d.sources.forEach(function(l){var a=d.sourceContentFor(l);a!=null&&(i!=null&&(l=e.join(i,l)),o!=null&&(l=e.relative(o,l)),this.setSourceContent(l,a))},this)},h.prototype._validateMapping=function(d,u,i,c){if(u&&typeof u.line!="number"&&typeof u.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0&&!u&&!i&&!c)){if(d&&"line"in d&&"column"in d&&u&&"line"in u&&"column"in u&&d.line>0&&d.column>=0&&u.line>0&&u.column>=0&&i)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:i,original:u,name:c}))}},h.prototype._serializeMappings=function(){for(var d=0,u=1,i=0,c=0,o=0,f=0,n="",l,a,m,v,b=this._mappings.toArray(),_=0,S=b.length;_<S;_++){if(a=b[_],l="",a.generatedLine!==u)for(d=0;a.generatedLine!==u;)l+=";",u++;else if(_>0){if(!e.compareByGeneratedPositionsInflated(a,b[_-1]))continue;l+=","}l+=r.encode(a.generatedColumn-d),d=a.generatedColumn,a.source!=null&&(v=this._sources.indexOf(a.source),l+=r.encode(v-f),f=v,l+=r.encode(a.originalLine-1-c),c=a.originalLine-1,l+=r.encode(a.originalColumn-i),i=a.originalColumn,a.name!=null&&(m=this._names.indexOf(a.name),l+=r.encode(m-o),o=m)),n+=l}return n},h.prototype._generateSourcesContent=function(d,u){return d.map(function(i){if(!this._sourcesContents)return null;u!=null&&(i=e.relative(u,i));var c=e.toSetString(i);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},h.prototype.toJSON=function(){var d={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(d.file=this._file),this._sourceRoot!=null&&(d.sourceRoot=this._sourceRoot),this._sourcesContents&&(d.sourcesContent=this._generateSourcesContent(d.sources,d.sourceRoot)),d},h.prototype.toString=function(){return JSON.stringify(this.toJSON())},xe.SourceMapGenerator=h,xe}var ie={},Ae={},Nt;function un(){return Nt||(Nt=1,function(r){r.GREATEST_LOWER_BOUND=1,r.LEAST_UPPER_BOUND=2;function e(t,s,h,p,d,u){var i=Math.floor((s-t)/2)+t,c=d(h,p[i],!0);return c===0?i:c>0?s-i>1?e(i,s,h,p,d,u):u==r.LEAST_UPPER_BOUND?s<p.length?s:-1:i:i-t>1?e(t,i,h,p,d,u):u==r.LEAST_UPPER_BOUND?i:t<0?-1:t}r.search=function(s,h,p,d){if(h.length===0)return-1;var u=e(-1,h.length,s,h,p,d||r.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&p(h[u],h[u-1],!0)===0;)--u;return u}}(Ae)),Ae}var Oe={},xt;function cn(){if(xt)return Oe;xt=1;function r(s,h,p){var d=s[h];s[h]=s[p],s[p]=d}function e(s,h){return Math.round(s+Math.random()*(h-s))}function t(s,h,p,d){if(p<d){var u=e(p,d),i=p-1;r(s,u,d);for(var c=s[d],o=p;o<d;o++)h(s[o],c)<=0&&(i+=1,r(s,i,o));r(s,i+1,o);var f=i+1;t(s,h,p,f-1),t(s,h,f+1,d)}}return Oe.quickSort=function(s,h){t(s,h,0,s.length-1)},Oe}var Lt;function hn(){if(Lt)return ie;Lt=1;var r=me(),e=un(),t=Yt().ArraySet,s=Zt(),h=cn().quickSort;function p(c,o){var f=c;return typeof c=="string"&&(f=r.parseSourceMapInput(c)),f.sections!=null?new i(f,o):new d(f,o)}p.fromSourceMap=function(c,o){return d.fromSourceMap(c,o)},p.prototype._version=3,p.prototype.__generatedMappings=null,Object.defineProperty(p.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),p.prototype.__originalMappings=null,Object.defineProperty(p.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),p.prototype._charIsMappingSeparator=function(o,f){var n=o.charAt(f);return n===";"||n===","},p.prototype._parseMappings=function(o,f){throw new Error("Subclasses must implement _parseMappings")},p.GENERATED_ORDER=1,p.ORIGINAL_ORDER=2,p.GREATEST_LOWER_BOUND=1,p.LEAST_UPPER_BOUND=2,p.prototype.eachMapping=function(o,f,n){var l=f||null,a=n||p.GENERATED_ORDER,m;switch(a){case p.GENERATED_ORDER:m=this._generatedMappings;break;case p.ORIGINAL_ORDER:m=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var v=this.sourceRoot;m.map(function(b){var _=b.source===null?null:this._sources.at(b.source);return _=r.computeSourceURL(v,_,this._sourceMapURL),{source:_,generatedLine:b.generatedLine,generatedColumn:b.generatedColumn,originalLine:b.originalLine,originalColumn:b.originalColumn,name:b.name===null?null:this._names.at(b.name)}},this).forEach(o,l)},p.prototype.allGeneratedPositionsFor=function(o){var f=r.getArg(o,"line"),n={source:r.getArg(o,"source"),originalLine:f,originalColumn:r.getArg(o,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var l=[],a=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(a>=0){var m=this._originalMappings[a];if(o.column===void 0)for(var v=m.originalLine;m&&m.originalLine===v;)l.push({line:r.getArg(m,"generatedLine",null),column:r.getArg(m,"generatedColumn",null),lastColumn:r.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++a];else for(var b=m.originalColumn;m&&m.originalLine===f&&m.originalColumn==b;)l.push({line:r.getArg(m,"generatedLine",null),column:r.getArg(m,"generatedColumn",null),lastColumn:r.getArg(m,"lastGeneratedColumn",null)}),m=this._originalMappings[++a]}return l},ie.SourceMapConsumer=p;function d(c,o){var f=c;typeof c=="string"&&(f=r.parseSourceMapInput(c));var n=r.getArg(f,"version"),l=r.getArg(f,"sources"),a=r.getArg(f,"names",[]),m=r.getArg(f,"sourceRoot",null),v=r.getArg(f,"sourcesContent",null),b=r.getArg(f,"mappings"),_=r.getArg(f,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);m&&(m=r.normalize(m)),l=l.map(String).map(r.normalize).map(function(S){return m&&r.isAbsolute(m)&&r.isAbsolute(S)?r.relative(m,S):S}),this._names=t.fromArray(a.map(String),!0),this._sources=t.fromArray(l,!0),this._absoluteSources=this._sources.toArray().map(function(S){return r.computeSourceURL(m,S,o)}),this.sourceRoot=m,this.sourcesContent=v,this._mappings=b,this._sourceMapURL=o,this.file=_}d.prototype=Object.create(p.prototype),d.prototype.consumer=p,d.prototype._findSourceIndex=function(c){var o=c;if(this.sourceRoot!=null&&(o=r.relative(this.sourceRoot,o)),this._sources.has(o))return this._sources.indexOf(o);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==c)return f;return-1},d.fromSourceMap=function(o,f){var n=Object.create(d.prototype),l=n._names=t.fromArray(o._names.toArray(),!0),a=n._sources=t.fromArray(o._sources.toArray(),!0);n.sourceRoot=o._sourceRoot,n.sourcesContent=o._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=o._file,n._sourceMapURL=f,n._absoluteSources=n._sources.toArray().map(function(C){return r.computeSourceURL(n.sourceRoot,C,f)});for(var m=o._mappings.toArray().slice(),v=n.__generatedMappings=[],b=n.__originalMappings=[],_=0,S=m.length;_<S;_++){var g=m[_],y=new u;y.generatedLine=g.generatedLine,y.generatedColumn=g.generatedColumn,g.source&&(y.source=a.indexOf(g.source),y.originalLine=g.originalLine,y.originalColumn=g.originalColumn,g.name&&(y.name=l.indexOf(g.name)),b.push(y)),v.push(y)}return h(n.__originalMappings,r.compareByOriginalPositions),n},d.prototype._version=3,Object.defineProperty(d.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}d.prototype._parseMappings=function(o,f){for(var n=1,l=0,a=0,m=0,v=0,b=0,_=o.length,S=0,g={},y={},C=[],w=[],E,L,N,A,ee;S<_;)if(o.charAt(S)===";")n++,S++,l=0;else if(o.charAt(S)===",")S++;else{for(E=new u,E.generatedLine=n,A=S;A<_&&!this._charIsMappingSeparator(o,A);A++);if(L=o.slice(S,A),N=g[L],N)S+=L.length;else{for(N=[];S<A;)s.decode(o,S,y),ee=y.value,S=y.rest,N.push(ee);if(N.length===2)throw new Error("Found a source, but no line and column");if(N.length===3)throw new Error("Found a source and line, but no column");g[L]=N}E.generatedColumn=l+N[0],l=E.generatedColumn,N.length>1&&(E.source=v+N[1],v+=N[1],E.originalLine=a+N[2],a=E.originalLine,E.originalLine+=1,E.originalColumn=m+N[3],m=E.originalColumn,N.length>4&&(E.name=b+N[4],b+=N[4])),w.push(E),typeof E.originalLine=="number"&&C.push(E)}h(w,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,h(C,r.compareByOriginalPositions),this.__originalMappings=C},d.prototype._findMapping=function(o,f,n,l,a,m){if(o[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+o[n]);if(o[l]<0)throw new TypeError("Column must be greater than or equal to 0, got "+o[l]);return e.search(o,f,a,m)},d.prototype.computeColumnSpans=function(){for(var o=0;o<this._generatedMappings.length;++o){var f=this._generatedMappings[o];if(o+1<this._generatedMappings.length){var n=this._generatedMappings[o+1];if(f.generatedLine===n.generatedLine){f.lastGeneratedColumn=n.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},d.prototype.originalPositionFor=function(o){var f={generatedLine:r.getArg(o,"line"),generatedColumn:r.getArg(o,"column")},n=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(o,"bias",p.GREATEST_LOWER_BOUND));if(n>=0){var l=this._generatedMappings[n];if(l.generatedLine===f.generatedLine){var a=r.getArg(l,"source",null);a!==null&&(a=this._sources.at(a),a=r.computeSourceURL(this.sourceRoot,a,this._sourceMapURL));var m=r.getArg(l,"name",null);return m!==null&&(m=this._names.at(m)),{source:a,line:r.getArg(l,"originalLine",null),column:r.getArg(l,"originalColumn",null),name:m}}}return{source:null,line:null,column:null,name:null}},d.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(o){return o==null}):!1},d.prototype.sourceContentFor=function(o,f){if(!this.sourcesContent)return null;var n=this._findSourceIndex(o);if(n>=0)return this.sourcesContent[n];var l=o;this.sourceRoot!=null&&(l=r.relative(this.sourceRoot,l));var a;if(this.sourceRoot!=null&&(a=r.urlParse(this.sourceRoot))){var m=l.replace(/^file:\/\//,"");if(a.scheme=="file"&&this._sources.has(m))return this.sourcesContent[this._sources.indexOf(m)];if((!a.path||a.path=="/")&&this._sources.has("/"+l))return this.sourcesContent[this._sources.indexOf("/"+l)]}if(f)return null;throw new Error('"'+l+'" is not in the SourceMap.')},d.prototype.generatedPositionFor=function(o){var f=r.getArg(o,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var n={source:f,originalLine:r.getArg(o,"line"),originalColumn:r.getArg(o,"column")},l=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(o,"bias",p.GREATEST_LOWER_BOUND));if(l>=0){var a=this._originalMappings[l];if(a.source===n.source)return{line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ie.BasicSourceMapConsumer=d;function i(c,o){var f=c;typeof c=="string"&&(f=r.parseSourceMapInput(c));var n=r.getArg(f,"version"),l=r.getArg(f,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new t,this._names=new t;var a={line:-1,column:0};this._sections=l.map(function(m){if(m.url)throw new Error("Support for url field in sections not implemented.");var v=r.getArg(m,"offset"),b=r.getArg(v,"line"),_=r.getArg(v,"column");if(b<a.line||b===a.line&&_<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=v,{generatedOffset:{generatedLine:b+1,generatedColumn:_+1},consumer:new p(r.getArg(m,"map"),o)}})}return i.prototype=Object.create(p.prototype),i.prototype.constructor=p,i.prototype._version=3,Object.defineProperty(i.prototype,"sources",{get:function(){for(var c=[],o=0;o<this._sections.length;o++)for(var f=0;f<this._sections[o].consumer.sources.length;f++)c.push(this._sections[o].consumer.sources[f]);return c}}),i.prototype.originalPositionFor=function(o){var f={generatedLine:r.getArg(o,"line"),generatedColumn:r.getArg(o,"column")},n=e.search(f,this._sections,function(a,m){var v=a.generatedLine-m.generatedOffset.generatedLine;return v||a.generatedColumn-m.generatedOffset.generatedColumn}),l=this._sections[n];return l?l.consumer.originalPositionFor({line:f.generatedLine-(l.generatedOffset.generatedLine-1),column:f.generatedColumn-(l.generatedOffset.generatedLine===f.generatedLine?l.generatedOffset.generatedColumn-1:0),bias:o.bias}):{source:null,line:null,column:null,name:null}},i.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(o){return o.consumer.hasContentsOfAllSources()})},i.prototype.sourceContentFor=function(o,f){for(var n=0;n<this._sections.length;n++){var l=this._sections[n],a=l.consumer.sourceContentFor(o,!0);if(a)return a}if(f)return null;throw new Error('"'+o+'" is not in the SourceMap.')},i.prototype.generatedPositionFor=function(o){for(var f=0;f<this._sections.length;f++){var n=this._sections[f];if(n.consumer._findSourceIndex(r.getArg(o,"source"))!==-1){var l=n.consumer.generatedPositionFor(o);if(l){var a={line:l.line+(n.generatedOffset.generatedLine-1),column:l.column+(n.generatedOffset.generatedLine===l.line?n.generatedOffset.generatedColumn-1:0)};return a}}}return{line:null,column:null}},i.prototype._parseMappings=function(o,f){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var l=this._sections[n],a=l.consumer._generatedMappings,m=0;m<a.length;m++){var v=a[m],b=l.consumer._sources.at(v.source);b=r.computeSourceURL(l.consumer.sourceRoot,b,this._sourceMapURL),this._sources.add(b),b=this._sources.indexOf(b);var _=null;v.name&&(_=l.consumer._names.at(v.name),this._names.add(_),_=this._names.indexOf(_));var S={source:b,generatedLine:v.generatedLine+(l.generatedOffset.generatedLine-1),generatedColumn:v.generatedColumn+(l.generatedOffset.generatedLine===v.generatedLine?l.generatedOffset.generatedColumn-1:0),originalLine:v.originalLine,originalColumn:v.originalColumn,name:_};this.__generatedMappings.push(S),typeof S.originalLine=="number"&&this.__originalMappings.push(S)}h(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),h(this.__originalMappings,r.compareByOriginalPositions)},ie.IndexedSourceMapConsumer=i,ie}var De={},Mt;function pn(){if(Mt)return De;Mt=1;var r=Xt().SourceMapGenerator,e=me(),t=/(\r?\n)/,s=10,h="$$$isSourceNode$$$";function p(d,u,i,c,o){this.children=[],this.sourceContents={},this.line=d??null,this.column=u??null,this.source=i??null,this.name=o??null,this[h]=!0,c!=null&&this.add(c)}return p.fromStringWithSourceMap=function(u,i,c){var o=new p,f=u.split(t),n=0,l=function(){var _=g(),S=g()||"";return _+S;function g(){return n<f.length?f[n++]:void 0}},a=1,m=0,v=null;return i.eachMapping(function(_){if(v!==null)if(a<_.generatedLine)b(v,l()),a++,m=0;else{var S=f[n]||"",g=S.substr(0,_.generatedColumn-m);f[n]=S.substr(_.generatedColumn-m),m=_.generatedColumn,b(v,g),v=_;return}for(;a<_.generatedLine;)o.add(l()),a++;if(m<_.generatedColumn){var S=f[n]||"";o.add(S.substr(0,_.generatedColumn)),f[n]=S.substr(_.generatedColumn),m=_.generatedColumn}v=_},this),n<f.length&&(v&&b(v,l()),o.add(f.splice(n).join(""))),i.sources.forEach(function(_){var S=i.sourceContentFor(_);S!=null&&(c!=null&&(_=e.join(c,_)),o.setSourceContent(_,S))}),o;function b(_,S){if(_===null||_.source===void 0)o.add(S);else{var g=c?e.join(c,_.source):_.source;o.add(new p(_.originalLine,_.originalColumn,g,S,_.name))}}},p.prototype.add=function(u){if(Array.isArray(u))u.forEach(function(i){this.add(i)},this);else if(u[h]||typeof u=="string")u&&this.children.push(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},p.prototype.prepend=function(u){if(Array.isArray(u))for(var i=u.length-1;i>=0;i--)this.prepend(u[i]);else if(u[h]||typeof u=="string")this.children.unshift(u);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+u);return this},p.prototype.walk=function(u){for(var i,c=0,o=this.children.length;c<o;c++)i=this.children[c],i[h]?i.walk(u):i!==""&&u(i,{source:this.source,line:this.line,column:this.column,name:this.name})},p.prototype.join=function(u){var i,c,o=this.children.length;if(o>0){for(i=[],c=0;c<o-1;c++)i.push(this.children[c]),i.push(u);i.push(this.children[c]),this.children=i}return this},p.prototype.replaceRight=function(u,i){var c=this.children[this.children.length-1];return c[h]?c.replaceRight(u,i):typeof c=="string"?this.children[this.children.length-1]=c.replace(u,i):this.children.push("".replace(u,i)),this},p.prototype.setSourceContent=function(u,i){this.sourceContents[e.toSetString(u)]=i},p.prototype.walkSourceContents=function(u){for(var i=0,c=this.children.length;i<c;i++)this.children[i][h]&&this.children[i].walkSourceContents(u);for(var o=Object.keys(this.sourceContents),i=0,c=o.length;i<c;i++)u(e.fromSetString(o[i]),this.sourceContents[o[i]])},p.prototype.toString=function(){var u="";return this.walk(function(i){u+=i}),u},p.prototype.toStringWithSourceMap=function(u){var i={code:"",line:1,column:0},c=new r(u),o=!1,f=null,n=null,l=null,a=null;return this.walk(function(m,v){i.code+=m,v.source!==null&&v.line!==null&&v.column!==null?((f!==v.source||n!==v.line||l!==v.column||a!==v.name)&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:i.line,column:i.column},name:v.name}),f=v.source,n=v.line,l=v.column,a=v.name,o=!0):o&&(c.addMapping({generated:{line:i.line,column:i.column}}),f=null,o=!1);for(var b=0,_=m.length;b<_;b++)m.charCodeAt(b)===s?(i.line++,i.column=0,b+1===_?(f=null,o=!1):o&&c.addMapping({source:v.source,original:{line:v.line,column:v.column},generated:{line:i.line,column:i.column},name:v.name})):i.column++}),this.walkSourceContents(function(m,v){c.setSourceContent(m,v)}),{code:i.code,map:c}},De.SourceNode=p,De}var It;function dn(){return It||(It=1,ae.SourceMapGenerator=Xt().SourceMapGenerator,ae.SourceMapConsumer=hn().SourceMapConsumer,ae.SourceNode=pn().SourceNode),ae}(function(r,e){e.__esModule=!0;var t=x,s=void 0;try{var h=dn();s=h.SourceNode}catch{}s||(s=function(u,i,c,o){this.src="",o&&this.add(o)},s.prototype={add:function(i){t.isArray(i)&&(i=i.join("")),this.src+=i},prepend:function(i){t.isArray(i)&&(i=i.join("")),this.src=i+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function p(u,i,c){if(t.isArray(u)){for(var o=[],f=0,n=u.length;f<n;f++)o.push(i.wrap(u[f],c));return o}else if(typeof u=="boolean"||typeof u=="number")return u+"";return u}function d(u){this.srcFile=u,this.source=[]}d.prototype={isEmpty:function(){return!this.source.length},prepend:function(i,c){this.source.unshift(this.wrap(i,c))},push:function(i,c){this.source.push(this.wrap(i,c))},merge:function(){var i=this.empty();return this.each(function(c){i.add(["  ",c,`
`])}),i},each:function(i){for(var c=0,o=this.source.length;c<o;c++)i(this.source[c])},empty:function(){var i=this.currentLocation||{start:{}};return new s(i.start.line,i.start.column,this.srcFile)},wrap:function(i){var c=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return i instanceof s?i:(i=p(i,this,c),new s(c.start.line,c.start.column,this.srcFile,i))},functionCall:function(i,c,o){return o=this.generateList(o),this.wrap([i,c?"."+c+"(":"(",o,")"])},quotedString:function(i){return'"'+(i+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(i){var c=this,o=[];Object.keys(i).forEach(function(n){var l=p(i[n],c);l!=="undefined"&&o.push([c.quotedString(n),":",l])});var f=this.generateList(o);return f.prepend("{"),f.add("}"),f},generateList:function(i){for(var c=this.empty(),o=0,f=i.length;o<f;o++)o&&c.add(","),c.add(p(i[o],this));return c},generateArray:function(i){var c=this.generateList(i);return c.prepend("["),c.add("]"),c}},e.default=d,r.exports=e.default})(nt,nt.exports);var fn=nt.exports;(function(r,e){e.__esModule=!0;function t(n){return n&&n.__esModule?n:{default:n}}var s=B,h=H,p=t(h),d=x,u=fn,i=t(u);function c(n){this.value=n}function o(){}o.prototype={nameLookup:function(l,a){return this.internalNameLookup(l,a)},depthedLookup:function(l){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(l),")"]},compilerInfo:function(){var l=s.COMPILER_REVISION,a=s.REVISION_CHANGES[l];return[l,a]},appendToBuffer:function(l,a,m){return d.isArray(l)||(l=[l]),l=this.source.wrap(l,a),this.environment.isSimple?["return ",l,";"]:m?["buffer += ",l,";"]:(l.appendToBuffer=!0,l)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(l,a){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",l,",",JSON.stringify(a),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(l,a,m,v){this.environment=l,this.options=a,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!v,this.name=this.environment.name,this.isChild=!!m,this.context=m||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(l,a),this.useDepths=this.useDepths||l.useDepths||l.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||l.useBlockParams;var b=l.opcodes,_=void 0,S=void 0,g=void 0,y=void 0;for(g=0,y=b.length;g<y;g++)_=b[g],this.source.currentLocation=_.loc,S=S||_.loc,this[_.opcode].apply(this,_.args);if(this.source.currentLocation=S,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new p.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),v?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var C=this.createFunctionContext(v);if(this.isChild)return C;var w={compiler:this.compilerInfo(),main:C};this.decorators&&(w.main_d=this.decorators,w.useDecorators=!0);var E=this.context,L=E.programs,N=E.decorators;for(g=0,y=L.length;g<y;g++)L[g]&&(w[g]=L[g],N[g]&&(w[g+"_d"]=N[g],w.useDecorators=!0));return this.environment.usePartial&&(w.usePartial=!0),this.options.data&&(w.useData=!0),this.useDepths&&(w.useDepths=!0),this.useBlockParams&&(w.useBlockParams=!0),this.options.compat&&(w.compat=!0),v?w.compilerOptions=this.options:(w.compiler=JSON.stringify(w.compiler),this.source.currentLocation={start:{line:1,column:0}},w=this.objectLiteral(w),a.srcName?(w=w.toStringWithSourceMap({file:a.destName}),w.map=w.map&&w.map.toString()):w=w.toString()),w},preamble:function(){this.lastContext=0,this.source=new i.default(this.options.srcName),this.decorators=new i.default(this.options.srcName)},createFunctionContext:function(l){var a=this,m="",v=this.stackVars.concat(this.registers.list);v.length>0&&(m+=", "+v.join(", "));var b=0;Object.keys(this.aliases).forEach(function(g){var y=a.aliases[g];y.children&&y.referenceCount>1&&(m+=", alias"+ ++b+"="+g,y.children[0]="alias"+b)}),this.lookupPropertyFunctionIsUsed&&(m+=", "+this.lookupPropertyFunctionVarDeclaration());var _=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&_.push("blockParams"),this.useDepths&&_.push("depths");var S=this.mergeSource(m);return l?(_.push(S),Function.apply(this,_)):this.source.wrap(["function(",_.join(","),`) {
  `,S,"}"])},mergeSource:function(l){var a=this.environment.isSimple,m=!this.forceBuffer,v=void 0,b=void 0,_=void 0,S=void 0;return this.source.each(function(g){g.appendToBuffer?(_?g.prepend("  + "):_=g,S=g):(_&&(b?_.prepend("buffer += "):v=!0,S.add(";"),_=S=void 0),b=!0,a||(m=!1))}),m?_?(_.prepend("return "),S.add(";")):b||this.source.push('return "";'):(l+=", buffer = "+(v?"":this.initializeBuffer()),_?(_.prepend("return buffer + "),S.add(";")):this.source.push("return buffer;")),l&&this.source.prepend("var "+l.substring(2)+(v?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(l){var a=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs(l,0,m);var v=this.popStack();m.splice(1,0,v),this.push(this.source.functionCall(a,"call",m))},ambiguousBlockValue:function(){var l=this.aliasable("container.hooks.blockHelperMissing"),a=[this.contextName(0)];this.setupHelperArgs("",0,a,!0),this.flushInline();var m=this.topStack();a.splice(1,0,m),this.pushSource(["if (!",this.lastHelper,") { ",m," = ",this.source.functionCall(l,"call",a),"}"])},appendContent:function(l){this.pendingContent?l=this.pendingContent+l:this.pendingLocation=this.source.currentLocation,this.pendingContent=l},append:function(){if(this.isInline())this.replaceStack(function(a){return[" != null ? ",a,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var l=this.popStack();this.pushSource(["if (",l," != null) { ",this.appendToBuffer(l,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(l){this.lastContext=l},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(l,a,m,v){var b=0;!v&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(l[b++])):this.pushContext(),this.resolvePath("context",l,b,a,m)},lookupBlockParam:function(l,a){this.useBlockParams=!0,this.push(["blockParams[",l[0],"][",l[1],"]"]),this.resolvePath("context",a,1)},lookupData:function(l,a,m){l?this.pushStackLiteral("container.data(data, "+l+")"):this.pushStackLiteral("data"),this.resolvePath("data",a,0,!0,m)},resolvePath:function(l,a,m,v,b){var _=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&b,this,a,m,l));return}for(var S=a.length;m<S;m++)this.replaceStack(function(g){var y=_.nameLookup(g,a[m],l);return v?[" && ",y]:[" != null ? ",y," : ",g]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(l,a){this.pushContext(),this.pushString(a),a!=="SubExpression"&&(typeof l=="string"?this.pushString(l):this.pushStackLiteral(l))},emptyHash:function(l){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(l?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var l=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(l.ids)),this.stringParams&&(this.push(this.objectLiteral(l.contexts)),this.push(this.objectLiteral(l.types))),this.push(this.objectLiteral(l.values))},pushString:function(l){this.pushStackLiteral(this.quotedString(l))},pushLiteral:function(l){this.pushStackLiteral(l)},pushProgram:function(l){l!=null?this.pushStackLiteral(this.programExpression(l)):this.pushStackLiteral(null)},registerDecorator:function(l,a){var m=this.nameLookup("decorators",a,"decorator"),v=this.setupHelperArgs(a,l);this.decorators.push(["fn = ",this.decorators.functionCall(m,"",["fn","props","container",v])," || fn;"])},invokeHelper:function(l,a,m){var v=this.popStack(),b=this.setupHelper(l,a),_=[];m&&_.push(b.name),_.push(v),this.options.strict||_.push(this.aliasable("container.hooks.helperMissing"));var S=["(",this.itemsSeparatedBy(_,"||"),")"],g=this.source.functionCall(S,"call",b.callParams);this.push(g)},itemsSeparatedBy:function(l,a){var m=[];m.push(l[0]);for(var v=1;v<l.length;v++)m.push(a,l[v]);return m},invokeKnownHelper:function(l,a){var m=this.setupHelper(l,a);this.push(this.source.functionCall(m.name,"call",m.callParams))},invokeAmbiguous:function(l,a){this.useRegister("helper");var m=this.popStack();this.emptyHash();var v=this.setupHelper(0,l,a),b=this.lastHelper=this.nameLookup("helpers",l,"helper"),_=["(","(helper = ",b," || ",m,")"];this.options.strict||(_[0]="(helper = ",_.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",_,v.paramsInit?["),(",v.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",v.callParams)," : helper))"])},invokePartial:function(l,a,m){var v=[],b=this.setupParams(a,1,v);l&&(a=this.popStack(),delete b.name),m&&(b.indent=JSON.stringify(m)),b.helpers="helpers",b.partials="partials",b.decorators="container.decorators",l?v.unshift(a):v.unshift(this.nameLookup("partials",a,"partial")),this.options.compat&&(b.depths="depths"),b=this.objectLiteral(b),v.push(b),this.push(this.source.functionCall("container.invokePartial","",v))},assignToHash:function(l){var a=this.popStack(),m=void 0,v=void 0,b=void 0;this.trackIds&&(b=this.popStack()),this.stringParams&&(v=this.popStack(),m=this.popStack());var _=this.hash;m&&(_.contexts[l]=m),v&&(_.types[l]=v),b&&(_.ids[l]=b),_.values[l]=a},pushId:function(l,a,m){l==="BlockParam"?this.pushStackLiteral("blockParams["+a[0]+"].path["+a[1]+"]"+(m?" + "+JSON.stringify("."+m):"")):l==="PathExpression"?this.pushString(a):l==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:o,compileChildren:function(l,a){for(var m=l.children,v=void 0,b=void 0,_=0,S=m.length;_<S;_++){v=m[_],b=new this.compiler;var g=this.matchExistingProgram(v);if(g==null){this.context.programs.push("");var y=this.context.programs.length;v.index=y,v.name="program"+y,this.context.programs[y]=b.compile(v,a,this.context,!this.precompile),this.context.decorators[y]=b.decorators,this.context.environments[y]=v,this.useDepths=this.useDepths||b.useDepths,this.useBlockParams=this.useBlockParams||b.useBlockParams,v.useDepths=this.useDepths,v.useBlockParams=this.useBlockParams}else v.index=g.index,v.name="program"+g.index,this.useDepths=this.useDepths||g.useDepths,this.useBlockParams=this.useBlockParams||g.useBlockParams}},matchExistingProgram:function(l){for(var a=0,m=this.context.environments.length;a<m;a++){var v=this.context.environments[a];if(v&&v.equals(l))return v}},programExpression:function(l){var a=this.environment.children[l],m=[a.index,"data",a.blockParams];return(this.useBlockParams||this.useDepths)&&m.push("blockParams"),this.useDepths&&m.push("depths"),"container.program("+m.join(", ")+")"},useRegister:function(l){this.registers[l]||(this.registers[l]=!0,this.registers.list.push(l))},push:function(l){return l instanceof c||(l=this.source.wrap(l)),this.inlineStack.push(l),l},pushStackLiteral:function(l){this.push(new c(l))},pushSource:function(l){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),l&&this.source.push(l)},replaceStack:function(l){var a=["("],m=void 0,v=void 0,b=void 0;if(!this.isInline())throw new p.default("replaceStack on non-inline");var _=this.popStack(!0);if(_ instanceof c)m=[_.value],a=["(",m],b=!0;else{v=!0;var S=this.incrStack();a=["((",this.push(S)," = ",_,")"],m=this.topStack()}var g=l.call(this,m);b||this.popStack(),v&&this.stackSlot--,this.push(a.concat(g,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var l=this.inlineStack;this.inlineStack=[];for(var a=0,m=l.length;a<m;a++){var v=l[a];if(v instanceof c)this.compileStack.push(v);else{var b=this.incrStack();this.pushSource([b," = ",v,";"]),this.compileStack.push(b)}}},isInline:function(){return this.inlineStack.length},popStack:function(l){var a=this.isInline(),m=(a?this.inlineStack:this.compileStack).pop();if(!l&&m instanceof c)return m.value;if(!a){if(!this.stackSlot)throw new p.default("Invalid stack pop");this.stackSlot--}return m},topStack:function(){var l=this.isInline()?this.inlineStack:this.compileStack,a=l[l.length-1];return a instanceof c?a.value:a},contextName:function(l){return this.useDepths&&l?"depths["+l+"]":"depth"+l},quotedString:function(l){return this.source.quotedString(l)},objectLiteral:function(l){return this.source.objectLiteral(l)},aliasable:function(l){var a=this.aliases[l];return a?(a.referenceCount++,a):(a=this.aliases[l]=this.source.wrap(l),a.aliasable=!0,a.referenceCount=1,a)},setupHelper:function(l,a,m){var v=[],b=this.setupHelperArgs(a,l,v,m),_=this.nameLookup("helpers",a,"helper"),S=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:v,paramsInit:b,name:_,callParams:[S].concat(v)}},setupParams:function(l,a,m){var v={},b=[],_=[],S=[],g=!m,y=void 0;g&&(m=[]),v.name=this.quotedString(l),v.hash=this.popStack(),this.trackIds&&(v.hashIds=this.popStack()),this.stringParams&&(v.hashTypes=this.popStack(),v.hashContexts=this.popStack());var C=this.popStack(),w=this.popStack();(w||C)&&(v.fn=w||"container.noop",v.inverse=C||"container.noop");for(var E=a;E--;)y=this.popStack(),m[E]=y,this.trackIds&&(S[E]=this.popStack()),this.stringParams&&(_[E]=this.popStack(),b[E]=this.popStack());return g&&(v.args=this.source.generateArray(m)),this.trackIds&&(v.ids=this.source.generateArray(S)),this.stringParams&&(v.types=this.source.generateArray(_),v.contexts=this.source.generateArray(b)),this.options.data&&(v.data="data"),this.useBlockParams&&(v.blockParams="blockParams"),v},setupHelperArgs:function(l,a,m,v){var b=this.setupParams(l,a,m);return b.loc=JSON.stringify(this.source.currentLocation),b=this.objectLiteral(b),v?(this.useRegister("options"),m.push("options"),["options=",b]):m?(m.push(b),""):b}},function(){for(var n="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),l=o.RESERVED_WORDS={},a=0,m=n.length;a<m;a++)l[n[a]]=!0}(),o.isValidJavaScriptVariableName=function(n){return!o.RESERVED_WORDS[n]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(n)};function f(n,l,a,m,v){var b=l.popStack(),_=a.length;for(n&&_--;m<_;m++)b=l.nameLookup(b,a[m],v);return n?[l.aliasable("container.strict"),"(",b,", ",l.quotedString(a[m]),", ",JSON.stringify(l.source.currentLocation)," )"]:b}e.default=o,r.exports=e.default})(st,st.exports);var mn=st.exports;(function(r,e){e.__esModule=!0;function t(_){return _&&_.__esModule?_:{default:_}}var s=As,h=t(s),p=Wt,d=t(p),u=de,i=fe,c=mn,o=t(c),f=Jt,n=t(f),l=Gt,a=t(l),m=h.default.create;function v(){var _=m();return _.compile=function(S,g){return i.compile(S,g,_)},_.precompile=function(S,g){return i.precompile(S,g,_)},_.AST=d.default,_.Compiler=i.Compiler,_.JavaScriptCompiler=o.default,_.Parser=u.parser,_.parse=u.parse,_.parseWithoutProcessing=u.parseWithoutProcessing,_}var b=v();b.create=v,a.default(b),b.Visitor=n.default,b.default=b,e.default=b,r.exports=e.default})(Re,Re.exports);var gn=Re.exports;const vn=fr(gn),_n=(r,e)=>vn.compile(r)(e);function yn(r){return typeof r=="object"&&r!==null&&r.constructor===Object&&Object.prototype.toString.call(r)==="[object Object]"}function bn(r){return Array.isArray(r)}function At(r){return yn(r)||bn(r)}function $t(r,e){if(Object.keys(r).length!==Object.keys(e).length)return!1;for(const[t,s]of Object.entries(r)){const h=e[t];if(At(s)&&At(h)){if($t(s,h))continue;return!1}if(s!==h)return!1}return!0}const er=class R{constructor(e="div",t){this.setProps=d=>{if(!d)return;const{children:u,props:i}=this._getChildren(d);Object.assign(this.children,u),Object.assign(this.props,i)};const{children:s,props:h}=this._getChildren(t);this.children=s;const p=new Bt;this._meta={tagName:e,props:h},this._id=dr(),this.props=this._makePropsProxy({...h,__id:this._id}),this.eventBus=()=>p,this._registerEvents(p),p.emit(R.EVENTS.INIT)}_getChildren(e){const t={},s={};return Object.entries(e).forEach(([h,p])=>{Array.isArray(p)?p.forEach(d=>{d instanceof R?t[h]?t[h]=[...t[h],d]:t[h]=[d]:s[h]?s[h]=[...s[h],d]:s[h]=[d]}):p instanceof R?t[h]=p:s[h]=p}),{children:t,props:s}}_registerEvents(e){e.on(R.EVENTS.INIT,this.init.bind(this)),e.on(R.EVENTS.FLOW_CDM,this._componentDidMount.bind(this)),e.on(R.EVENTS.FLOW_CDU,this._componentDidUpdate.bind(this)),e.on(R.EVENTS.FLOW_RENDER,this._render.bind(this))}_createResources(){const{tagName:e}=this._meta;this._element=this._createDocumentElement(e)}init(){this._createResources(),this.eventBus().emit(R.EVENTS.FLOW_RENDER)}compile(e,t){const s={...t};Object.entries(this.children).forEach(([p,d])=>{Array.isArray(d)?d.forEach(u=>{s[p]?s[p]=s[p]+`<div data-id="id-${u._id}"></div>`:s[p]=`<div data-id="id-${u._id}"></div>`}):s[p]=`<div data-id="id-${d._id}"></div>`});const h=this._createDocumentElement("template");return h.innerHTML=_n(e,s),Object.values(this.children).forEach(p=>{if(Array.isArray(p))p.forEach(d=>{const u=h.content.querySelector(`[data-id="id-${d._id}"]`);u&&u.replaceWith(d.getContent())});else{const d=h.content.querySelector(`[data-id="id-${p._id}"]`);if(!d)return;d.replaceWith(p.getContent())}}),h.content}_componentDidMount(){this.componentDidMount(),Object.values(this.children).forEach(e=>{Array.isArray(e)?e.forEach(t=>{t.dispatchComponentDidMount()}):e.dispatchComponentDidMount()})}componentDidMount(){}dispatchComponentDidMount(){this.eventBus().emit(R.EVENTS.FLOW_CDM)}_componentDidUpdate(e,t){this.componentDidUpdate(e,t)&&this.eventBus().emit(R.EVENTS.FLOW_RENDER)}componentDidUpdate(e,t){return $t(e,t)}get element(){return this._element}_render(){const e=this.render();this._removeEvents(),this._element.innerHTML="",e!==void 0&&this._element.appendChild(e),this._addEvents()}render(){}getContent(){return this.element}_makePropsProxy(e){const t=this;return new Proxy(e,{get(s,h){const p=s[h];return typeof p=="function"?p.bind(s):p},set(s,h,p){return s[h]=p,t.eventBus().emit(R.EVENTS.FLOW_CDU,{...s},s),!0},deleteProperty(){throw new Error("Нет доступа")}})}_addEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(t=>{this._element.addEventListener(t,e[t])})}_removeEvents(){const{events:e={}}=this.props;Object.keys(e).forEach(t=>{this._element.removeEventListener(t,e[t])})}_createDocumentElement(e){const t=document.createElement(e);return t.setAttribute("data-id",this._id),t}show(){this.getContent().style.display="flex"}hide(){this.getContent().style.display="none"}};er.EVENTS={INIT:"init",FLOW_CDM:"flow:component-did-mount",FLOW_CDU:"flow:component-did-update",FLOW_RENDER:"flow:render"};let I=er;const Sn=`
	{{ text }}
`;class P extends I{constructor(e){super(e.tagName,e),this.props.classNames.forEach(t=>{this.element.classList.add(t)}),this.props.type&&this.element.setAttribute("type",this.props.type),this.props.href&&this.element.setAttribute("href",this.props.href)}render(){return this.compile(Sn,this.props)}}const wn="Поле должно быть на латинице или кириллице, без пробелов, цифр и спецсимволов. Первая буква должна быть заглавной.",Cn="Поле должно содержать от 3 до 20 символов латиницы. Может содержать цифры, но не состоять из них. Без пробелов, без спецсимволов.",kn="Поле должно быть на латинице, может включать цифры и спецсимволы, обязательно должна быть «собака» (@).",En="Поле должно содержать от 8 до 40 символов, обязательно хотя бы одна заглавная буква и цифра.",Pn="Поле должно содержать от 10 до 15 символов, состоит из цифр, может начинается с плюса.",Ot="Поле не должно быть пустым.",Nn=/^[a-zA-Z0-9](?=.*[a-zA-z])[a-zA-Z0-9-_\.]{2,20}$/,xn=/^(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9!@#$%^&*()_+=/?><.\.]{3,41}$/,Ln=/^(\+)?((\d{2,3}) ?\d|\d)(([ -]?\d)|( ?(\d{2,3}) ?)){7,17}\d$/,Mn=/^[A-ZА-Я][A-ZА-Яa-zа-я0-9-\.]{1,40}$/,In=/[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}/;function oe(r,e){return r.match(e)!==null}const j=r=>{let e=document.createElement("p");return e.classList.add("input__validation-error"),e.innerHTML=r,e},Dt=r=>{const{name:e,value:t}=r;switch(e){case"email":return oe(t,In)||j(kn);case"login":return oe(t,Nn)||j(Cn);case"first_name":case"second_name":return oe(t,Mn)||j(wn);case"phone":return oe(t,Ln)||j(Pn);case"password":case"second_password":case"oldPassword":case"newPassword":case"newPasswordAgain":return oe(t,xn)||j(En);case"message":case"display_name":return t.length>1||j(Ot);default:return t.length>1||j(Ot)}},se=(r,e)=>{var h,p;let t=" input_validate";const s=r;if(s.name==="message"&&(t=" message-bar__message_validate"),Dt(s)===!0){if(s.className.includes(t)){s.className=s.className.replace(t,"");const d=document.querySelector("p");(h=s.parentElement)==null||h.removeChild(d)}e&&(e[s.name]=s.value)}else s.className.includes(t)||(s.className+=t,(p=s.parentElement)==null||p.append(Dt(s)))},U=r=>{const e={};let t=0;const s=r;for(let h=0;h<s.length;h++)s[h].nodeName==="INPUT"&&(t++,se(s[h],e));if(Object.keys(e).length==t)return e},ge=`
	{{#if label}}
		<label 
			for={{ input.name }} 
			class='{{#each label.classNames}} {{ this }}{{/each}}'
		>{{ label.text }}</label>
	{{/if}}
	<input 
		name={{ input.name }} 
		{{#if input.value}}
			value={{ input.value }}
		{{/if}}
		{{#if input.placeholder}}
			placeholder={{ input.placeholder }}
		{{/if}}
		{{#if input.classNames}}
			class='{{#each input.classNames}} {{ this }}{{/each}}'
		{{/if}}
		{{#if input.autofocus}}
			autofocus
		{{/if}}
		type={{ input.type }}
	>	
`;class q extends I{constructor(e){super("li",e),this.props.classNames=["inputs__item","input-wrapper"],this.props.classNames.forEach(t=>{this.element.classList.add(t)}),this.props.label={classNames:["inputs__item__label","label"],text:this.props.label.text},this.props.input={classNames:["inputs__item__value","input"],type:"text",name:this.props.input.name},this.props.settings={withInternalID:!0},this.props.events={focusout:t=>se(t.target)}}render(){return this.compile(ge,this.props)}}const An=`
	{{#if title}}
		{{#if login}}
			<div class="enter__title">{{title}}</div>
			<ul class="inputs">
				{{{email}}}
				{{{login}}}
				{{{first_name}}}
				{{{second_name}}}
				{{{phone}}}
				{{{password}}}
				{{{second_password}}}
			</ul>

			<div class="enter__btns">
				{{{ mainBtn }}}
				{{{ secondBtn }}}
			</div>
		{{else}}
			<div class="modal__title">{{title}}</div>
			{{{input}}}
			{{#if fileInput}}
				{{{fileInput}}}
			{{/if}}
			{{{submitBtn}}}
		{{/if}}
	{{else}}
		{{#if saveButton}}
			<ul class="info">
				{{{ email }}}
				{{{ login }}}
				{{{ first_name }}}
				{{{ second_name }}}
				{{{ display_name }}}
				{{{ phone }}}
				{{{ oldPassword }}}
				{{{ newPassword }}}
				{{{ newPasswordAgain }}}
			</ul>
			{{{ saveButton }}}
		{{else}}
			{{{ optionsBtn }}}
			{{{ input }}}
			{{{ sendBtn }}}
		{{/if}}
		
	{{/if}}
`;class D extends I{constructor(e){super("form",e),this.props.classNames.forEach(t=>{this.element.classList.add(t)})}render(){return this.compile(An,this.props)}}function On(r){if(typeof r!="object")throw new Error("Data must be object");const e=Object.keys(r);return e.reduce((t,s,h)=>`${t}${s}=${r[s]}${h<e.length-1?"&":""}`,"?")}const le={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE"},tr=class rr{constructor(e){this.get=(t,s={})=>this.request(t,{...s,method:le.GET},s.timeout),this.post=(t,s={})=>this.request(t,{...s,method:le.POST},s.timeout),this.put=(t,s={})=>this.request(t,{...s,method:le.PUT},s.timeout),this.delete=(t,s={})=>this.request(t,{...s,method:le.DELETE},s.timeout),this.request=(t,s,h=5e3)=>{const{headers:p={Accept:"application/json","Content-Type":"application/json"},method:d,data:u}=s;return new Promise((i,c)=>{if(!d){c("No method");return}const o=new XMLHttpRequest,f=d===le.GET;o.open(d,f&&u?`${this.baseURL}${t}${On(u)}`:`${this.baseURL}${t}`),s.withCredentials&&(o.withCredentials=!0),Object.keys(p).forEach(n=>{o.setRequestHeader(n,p[n])}),o.onload=()=>{i(o)},o.onabort=c,o.onerror=c,o.timeout=h,o.ontimeout=c,f||!u?o.send():o.send(u)})},this.baseURL=`${rr.API_URL}${e}`}};tr.API_URL="https://ya-praktikum.tech/api/v2";let Dn=tr;class pt{constructor(e){this.http=new Dn(e)}}class Rn extends pt{constructor(){super("/auth")}signin(e){return this.http.post("/signin",{withCredentials:!0,data:JSON.stringify(e)})}signup(e){return this.http.post("/signup",{data:JSON.stringify(e)})}logout(){return this.http.post("/logout",{withCredentials:!0})}getUser(){return this.http.get("/user",{withCredentials:!0})}}function sr(r,e){for(let t in e)if(e.hasOwnProperty(t))try{e[t].constructor===Object?e[t]=sr(r[t],e[t]):r[t]=e[t]}catch{r[t]=e[t]}return r}function Bn(r,e,t){if(typeof r!="object"||r===null)return r;if(typeof e!="string")throw new Error("path must be string");const s=e.split(".").reduceRight((h,p)=>({[p]:h}),t);return sr(r,s)}class Tn extends Bt{constructor(){super(...arguments),this.state={}}getState(){return this.state}set(e,t){Bn(this.state,e,t),this.emit("updated",this.state)}}const k=new Tn,X=r=>e=>class extends e{constructor(t){super({...t,...r(k.getState())},{}),k.on("updated",()=>{this.setProps({...r(k.getState())})})}},ke="https://ya-praktikum.tech/api/v2/resources/";class Un{constructor(){this.api=new Rn}async signin(e){try{await this.api.signin(e),await this.fetchUser(),M.go("/messenger"),console.log("loged in")}catch(t){console.log(t)}}async signup(e){try{await this.api.signup(e),M.go("/messenger")}catch(t){console.log(t)}}async logout(){try{await this.api.logout(),k.set("user",void 0),M.go("/"),console.log("loged out")}catch(e){console.log(e)}}async fetchUser(){try{const e=await this.api.getUser();if(e.status!==200)throw new Error(`Ошибка: ${e.status} ${e.statusText||e.responseText}`);const t=JSON.parse(e.response);k.set("user",{...t,avatar:`${ke}${t.avatar}`})}catch(e){throw e}}}const Ee=new Un;function $(r){return{...r.user,chats:r.chats,messages:r.messages,activeChat:r.activeChat}}const nr=`
	{{{ form }}}
	{{#if navigation}}
		{{{ navigation }}}
	{{/if}}
`;class Hn extends I{constructor(){super("section",{classNames:["enter"],form:new D({classNames:["enter__form"],title:"Вход",login:new q({label:{text:"Логин"},input:{name:"login"}}),password:new q({label:{text:"Пароль"},input:{name:"password"}}),mainBtn:new P({tagName:"button",classNames:["enter__btns__autorisation","btn"],text:"Авторизоваться",type:"submit",settings:{withInternalID:!0}}),secondBtn:new P({tagName:"button",type:"button",classNames:["enter__btns__link","btn_flat","btn"],text:"Нет аккаунта",settings:{withInternalID:!0},events:{click:()=>M.go("/sign-up")}}),events:{submit:e=>{e.preventDefault();const t=U(e.target);t&&Ee.signin(t)}}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(nr,this.props)}}const qn=X($)(Hn);class Fn extends I{constructor(){super("section",{classNames:["enter"],form:new D({classNames:["enter__form"],title:"Регистрация",email:new q({label:{text:"Почта"},input:{name:"email"}}),login:new q({label:{text:"Логин"},input:{name:"login"}}),first_name:new q({label:{text:"Имя"},input:{name:"first_name"}}),second_name:new q({label:{text:"Фамилия"},input:{name:"second_name"}}),phone:new q({label:{text:"Телефон"},input:{name:"phone"}}),password:new q({label:{text:"Пароль"},input:{name:"password"}}),second_password:new q({label:{text:"Пароль (еще раз)"},input:{name:"second_password"}}),mainBtn:new P({tagName:"button",classNames:["enter__btns__autorisation","btn"],text:"Зарегистрироваться",type:"submit",settings:{withInternalID:!0}}),secondBtn:new P({tagName:"button",type:"button",classNames:["enter__btns__link","btn_flat","btn"],text:"Войти",settings:{withInternalID:!0},events:{click:()=>M.go("/")}}),events:{submit:e=>{e.preventDefault();const t=U(e.target);t&&Ee.signup(t)}}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(nr,this.props)}}const Vn=X($)(Fn);class Gn extends I{constructor(e){super(e.tagName,e),this.props.classNames.forEach(t=>{this.element.classList.add(t)}),this.props.settings={withInternalID:!0},this.props.events={focusout:t=>se(t.target)}}render(){return this.compile(ge,this.props)}}const Wn=`
	<div class="user-bar">
		<div class="user-bar__user">
			<div class="user-bar__photo">
				<img class="user__avatar__img" src="{{{ chatAvatar }}}" alt="Аватар"></img>
				{{{ changeChatAvatarBtn }}}
			</div>
			<div class="user-bar__name">{{chatName}}</div>
		</div>
		{{{ optionsBtn }}}
	</div>

	{{{ optionsMenu }}}
	
	<div class="message-history">
		{{{ messages }}}
	</div>
	
	{{{ messageOptionsMenu }}}
	
	{{{ form }}}				
`;class Jn extends I{constructor(e){super(e.tagName,e),this.props.classNames.forEach(t=>{this.element.classList.add(t)}),this.props.autofocus=!0,this.props.settings={withInternalID:!0},this.props.events={focusout:t=>se(t.target)}}render(){return this.compile(ge,this.props)}}const Kn=`
	{{content}}
`;class Rt extends I{constructor(e){super("div",{classNames:["message-history__message"],text:"",time:"",content:"",is_read:"",id:"",isUserMessage:!1,...e}),this.props.isUserMessage?this.props.classNames.push("message_user"):this.props.classNames.push("message_friend"),this.props.classNames.forEach(t=>{this.element.classList.add(t)})}render(){return this.compile(Kn,this.props)}}class zn{constructor(e){this.baseUrl=e}async addEvents(){await this.socket.addEventListener("open",()=>this.handleOpen),await this.socket.addEventListener("close",this.handleClose.bind(this)),await this.socket.addEventListener("message",this.handleMessage),await this.socket.addEventListener("error",this.handleError)}async init(e,t,s){this.userId=e,this.chatId=t,this.token=s,this.socket=await new WebSocket(`${this.baseUrl}/${e}/${t}/${s}`),await this.addEvents(),console.log("соединение установлено")}sleep(e){return new Promise(t=>setTimeout(t,e))}async handleOpen(e){console.log("отправка данных"),e&&this.socket.readyState===1?(await this.socket.send(JSON.stringify({content:e,type:"message"})),await this.getMessages()):(await this.sleep(1e3),await this.handleOpen(e))}async handleClose(e){e.wasClean?console.log("Соединение закрыто чисто"):console.log("Обрыв соединения"),k.getState().user&&(console.log("восстановление соединения..."),await this.init(this.userId,this.chatId,this.token))}async handleMessage(e){console.log("получено сообщение");const t=k.getState(),h=(Array.isArray(JSON.parse(e.data))?JSON.parse(e.data):[JSON.parse(e.data)]).map(d=>{const u=new Date(d.time);return new Rt({time:`${u.getHours()}:${u.getMinutes()}`,content:d.content,is_read:d.is_read,id:d.id,isUserMessage:t.user.id===d.user_id})}),p=JSON.parse(e.data);Array.isArray(p)&&p.length<=0?k.set("messages",[new Rt({classNames:["chat__message-container_type-nomessage"],time:"",content:"Сообщений пока нет",is_read:"",id:"",isUserMessage:!1})]):Array.isArray(p)?k.set("messages",[...h.reverse()]):k.set("messages",[...h.reverse(),...t.messages])}async handleError(e){console.log("Ошибка",e.message)}async getMessages(e="0"){this.socket.readyState===1?(await this.socket.send(JSON.stringify({content:"0",type:"get old"})),console.log("запрос сообщений")):(await this.sleep(1e3),await this.getMessages(e))}}const at=new zn("wss://ya-praktikum.tech/ws/chats"),ar=`
	{{{ addUser }}}
	{{{ removeUser }}}
	{{{ removeChat }}}
`;class Qn extends pt{constructor(){super("/chats")}getChats(){return this.http.get("/",{withCredentials:!0})}createChat(e){return this.http.post("/",{withCredentials:!0,data:JSON.stringify(e)})}deleteChatById(e){return this.http.delete("/",{withCredentials:!0,data:JSON.stringify(e)})}getChatUsers(e){return this.http.get(`/${e}/users`,{withCredentials:!0})}addUserToChat(e){return this.http.put("/users",{withCredentials:!0,data:JSON.stringify(e)})}deleteUserFromChat(e){return this.http.delete("/users",{withCredentials:!0,data:JSON.stringify(e)})}uploadChatAvatar(e){return this.http.put("/avatar",{headers:{},withCredentials:!0,data:e})}getToken(e){return this.http.post(`/token/${e}`,{withCredentials:!0})}}const jn=`
	<img class="chat__avatar" src="{{ avatar }}"></img>
	<div class="chat__info">
		<div class="chat__info__message">
			<div class="chat__info__title">{{ title }}</div>
			<div class="chat__info__last-msg">{{ lastMessage }}</div>
		</div>
		<div class="chat__info__stat">
			<div class="chat__info__time">{{ lastMessageTime  }}</div>
			<div class="chat__info__new-msg {{ newMessage }}"></div>
		</div>
	</div>
`;class Zn extends I{constructor(e){super("div",{...e,classNames:["chat"],events:{click:async()=>{const t=document.querySelectorAll(".chat");t&&t.length>0&&t.forEach(d=>{d.classList.remove("chat_active")}),k.set("activeChat",this.props.chatId),k.set("activeChatAvatar",this.props.avatar),k.set("activeChatTitle",this.props.title),this.setProps({isActive:"true"}),this.props.isActive&&this.element.classList.add("chat_active");const{user:s,activeChat:h}=await k.getState(),p=await J.getToken(h);await at.init(s.id,h,p.token),await at.getMessages()}}}),this.props.classNames.forEach(t=>{this.element.classList.add(t)})}render(){return this.compile(jn,this.props)}}class Yn{constructor(){this.api=new Qn}async createChat(e){try{const t=await this.api.createChat(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return await this.getChats(),t}catch(t){console.log(t.message)}}async deleteChat(e){try{const t=await this.api.deleteChatById(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return await this.getChats(),t}catch(t){console.log(t.message)}}async getChats(){try{const e=await this.api.getChats();if(e.status!==200)throw new Error(`Ошибка: ${e.status} ${e.statusText||e.responseText}`);const t=JSON.parse(e.response).map(s=>{var p;let h=null;return(p=s==null?void 0:s.last_message)!=null&&p.time&&(h=new Date(s.last_message.time)),new Zn({isActive:!1,avatar:s.avatar?s.avatar&&"https://ya-praktikum.tech/api/v2/resources"+s.avatar:"https://64.media.tumblr.com/566faeb5cedfa26e59c4242c59cb5db4/d950528b1063571e-ee/s1280x1920/a356414c6329b368cb4536e391880471011f09f7.jpg",title:s.title,lastMessage:s.last_message?s.last_message&&s.last_message.content:"",lastMessageTime:h?`${h.getHours()}:${h.getMinutes()}`:"",newMessage:s.unread_count,chatId:s.id})});k.set("chats",t)}catch(e){console.log(e.message)}}async addUserToChat(e){try{const t=await this.api.addUserToChat(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return t}catch(t){console.log(t.message)}}async deleteUserFromChat(e){try{const t=await this.api.deleteUserFromChat(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return t}catch(t){console.log(t.message)}}async getChatUsers(e){try{const t=await this.api.getChatUsers(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return t}catch(t){console.log(t.message)}}async getToken(e){try{const t=await this.api.getToken(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return JSON.parse(t.response)}catch(t){console.log(t.message)}}async uploadChatAvatar(e){try{const t=await this.api.uploadChatAvatar(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);const s=JSON.parse(t.response);return k.set("activeChatAvatar",{avatar:"https://ya-praktikum.tech/api/v2/resources"+s.avatar}),t}catch(t){console.log(t.message)}}}const J=new Yn;class Xn extends I{constructor(){super("div",{classNames:["burger","burger__chat","burger_hide"],addUser:new P({tagName:"button",classNames:["btn","btn_mini","burger__item"],text:"Добавить пользователя",settings:{withInternalID:!0},events:{click:()=>{const e=document.querySelector(".modal__add-user");e.style.display="block"}}}),removeUser:new P({tagName:"button",classNames:["btn","btn_mini","burger__item"],text:"Удалить пользователя",settings:{withInternalID:!0},events:{click:()=>{const e=document.querySelector(".modal__delete-user");e.style.display="block"}}}),removeChat:new P({tagName:"button",classNames:["btn","btn_mini","btn_red","burger__item"],text:"Удалить чат",settings:{withInternalID:!0},events:{click:()=>{if(k.getState().activeChat)J.deleteChat({chatId:k.getState().activeChat});else throw new Error("Чат не выбран");console.log()}}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(ar,this.props)}}class $n extends I{constructor(){super("div",{classNames:["burger","burger__message","burger_hide"],addUser:new P({tagName:"button",classNames:["btn","btn_mini","burger__item"],text:"Добавить фото",settings:{withInternalID:!0},events:{click:()=>{const e=document.querySelector(".modal__add-photo");e.style.display="block"}}}),removeUser:new P({tagName:"button",classNames:["btn","btn_mini","burger__item"],text:"Добавить файл",settings:{withInternalID:!0},events:{click:()=>{const e=document.querySelector(".modal__add-file");e.style.display="block"}}}),removeChat:new P({tagName:"button",classNames:["btn","btn_mini","burger__item"],text:"Добавить локацию",settings:{withInternalID:!0},events:{click:()=>{const e=document.querySelector(".modal__add-location");e.style.display="block"}}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(ar,this.props)}}class ea extends I{constructor(e){super("div",{...e,classNames:["right"],chatName:"Chat",chatAvatar:"https://www.film.ru/sites/default/files/filefield_paths/aanganim.jpg",changeChatAvatarBtn:new P({tagName:"button",classNames:["btn","btn_mini","user-bar__photo__btn"],settings:{withInternalID:!0},events:{click:()=>{const t=document.querySelector(".modal__change-chat-avatar");t.style.display="block"}}}),optionsBtn:new P({tagName:"button",classNames:["btn","btn_mini","user-bar__menu"],settings:{withInternalID:!0},events:{click:()=>{const t=document.querySelector(".burger__chat").classList;t.contains("burger_hide")?t.remove("burger_hide"):t.add("burger_hide")}}}),form:new D({classNames:["message-bar"],optionsBtn:new P({tagName:"button",classNames:["btn","btn_mini"],type:"button",settings:{withInternalID:!0},events:{click:t=>{t.preventDefault();const s=document.querySelector(".burger__message").classList;s.contains("burger_hide")?s.remove("burger_hide"):s.add("burger_hide")}}}),input:new Jn({classNames:["message-bar__message-wrapper"],input:{classNames:["message-bar__message"],name:"message",placeholder:"Сообщение",type:"text"}}),sendBtn:new P({tagName:"button",type:"submit",classNames:["btn","btn_mini"],settings:{withInternalID:!0}}),events:{submit:async t=>{if(t.preventDefault(),U(t.target),await k.getState().activeChat){const h=new FormData(t.target),p={message:String(h.get("message"))};this.setProps({value:""}),await at.handleOpen(p.message)}else console.log("Чат не выбран");t.target[1].value=""}}}),optionsMenu:new Xn,messageOptionsMenu:new $n}),this.props.classNames.forEach(t=>{this.element.classList.add(t)})}render(){return k.getState().activeChat&&this.props.chatName!=k.getState().activeChatTitle&&(this.props.chatName=k.getState().activeChatTitle,this.props.chatAvatar=k.getState().activeChatAvatar),this.compile(Wn,this.props)}}const ta=X($)(ea),ra=`
	<div class='left'>
		{{{ profileBtn }}}
		{{{ search }}}
		{{{ addChatBtn }}}
		{{{ chats }}}
	</div>

	{{{ chat }}}
	<div class="{{{ emptyChat.className }}}">{{{ emptyChat.text }}}</div>
	

	{{{ addChatModal }}}
	{{{ addUserModal }}}
	{{{ deleteUserModal }}}
	{{{ addPhotoModal }}}
	{{{ addFileModal }}}
	{{{ addLocationModal }}}
	{{{ changeChatAvatarModal }}}
`;class z extends I{constructor(e){super(e.tagName,e),this.props.classNames.forEach(t=>{this.element.classList.add(t)}),this.props.settings={withInternalID:!0},this.props.events={focusout:t=>se(t.target)}}render(){return this.compile(ge,this.props)}}const sa=`
	{{{ form }}}
`;class Q extends I{constructor(e,t){super(e,t),this.props.classNames.push("modal"),this.props.classNames.forEach(s=>{this.element.classList.add(s)})}hideModal(e){if(e.target.className.includes("modal-overlay"))this.hide();else return}render(){return this.compile(sa,this.props)}}class na extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__add-chat"],form:new D({classNames:["modal__form"],title:"Добавить чат",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addChatModalInput",placeholder:"Название чата",type:"text"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault();const t={title:U(e.target).addChatModalInput};console.log(t),t&&(J.createChat(t),this.hide()),console.log("submit")}}}),events:{click:e=>{this.hideModal(e)}}})}}class aa extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__add-user"],form:new D({classNames:["modal__form"],title:"Добавить пользователя",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addUserModalInput",placeholder:"id пользователя",type:"text"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault();const t={users:[Number(U(e.target).addUserModalInput)],chatId:Number(k.getState().activeChat)};t&&(J.addUserToChat(t),this.hide(),console.log(`Пользователь ${Number(U(e.target).addUserModalInput)} добавлен`))}}}),events:{click:e=>{this.hideModal(e)}}})}}class ia extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__delete-user"],form:new D({classNames:["modal__form"],title:"Удалить пользователя",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"deleteUserModalInput",placeholder:"id пользователя",type:"text"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","btn_red","actions__btn-save"],text:"Удалить",settings:{withInternalID:!0}}),events:{submit:async e=>{e.preventDefault();const t={users:[Number(U(e.target).deleteUserModalInput)],chatId:Number(k.getState().activeChat)},s=await J.getChatUsers(t.chatId),h=JSON.parse(s.response).filter(p=>(console.log(p.id,...t.users),p.id==t.users)).length;t&&h?(J.deleteUserFromChat(t),this.hide(),console.log(`Пользователь ${Number(U(e.target).deleteUserModalInput)} удален`)):console.log(`Пользователь ${Number(U(e.target).deleteUserModalInput)} не является участником чата`)}}}),events:{click:e=>{this.hideModal(e)}}})}}class oa extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__add-photo"],form:new D({classNames:["modal__form"],title:"Добавить чат",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addChatModalInput",placeholder:"Название чата",type:"file"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault()}}}),events:{click:e=>{this.hideModal(e)}}})}}class la extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__add-file"],form:new D({classNames:["modal__form"],title:"Добавить файл",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addChatModalInput",type:"file"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault()}}}),events:{click:e=>{this.hideModal(e)}}})}}class ua extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__add-location"],form:new D({classNames:["modal__form"],title:"Добавить чат",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addChatModalInput",placeholder:"Название чата",type:"text"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault()}}}),events:{click:e=>{this.hideModal(e)}}})}}class ca extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__change-chat-avatar"],form:new D({classNames:["modal__form"],title:"Добавить файл",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"addChatModalInput",type:"file"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Добавить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault();const t=e.target[0].files[0];if(t){const s=new FormData;s.append("avatar",t),s.append("chatId",`${k.getState().activeChat}`),J.uploadChatAvatar(s),this.hide()}}}}),events:{click:e=>{this.hideModal(e)}}})}}class ha extends I{constructor(e){super("section",{classNames:["home"],profileBtn:new P({tagName:"button",type:"button",classNames:["profile-btn","btn"],text:"Профиль",settings:{withInternalID:!0},events:{click:()=>M.go("/settings")}}),search:new Gn({tagName:"div",classNames:["search"],input:{name:"search",placeholder:"Поиск",type:"text"}}),addChatBtn:new P({tagName:"button",classNames:["add-chat-btn","btn_mini"],text:"+",settings:{withInternalID:!0},events:{click:()=>{const t=document.querySelector(".modal__add-chat");t.style.display="block"}}}),chat:new ta({}),addChatModal:new na,addUserModal:new aa,deleteUserModal:new ia,addPhotoModal:new oa,addFileModal:new la,addLocationModal:new ua,changeChatAvatarModal:new ca,...e}),this.props.classNames.forEach(t=>{this.element.classList.add(t)})}async componentDidMount(){await J.getChats()}render(){return k.getState().activeChat?this.children.chat.show():this.children.chat.hide(),this.compile(ra,this.props)}}const pa=X($)(ha),dt=`
	{{{ backButton }}}
	
	<div class="user">
		<div name="avatar" class="user__avatar">
			<img class="user__avatar__img" src="{{{userAvatar}}}" alt="Аватар"></img>
			{{{ userAvatarBtn }}}
		</div>
		<div class="user__name">{{{ userName }}}</div>
		{{{ changeAvatarModal }}}
	</div>


	{{#if form}}
		<div class="info">
			{{{ form }}}
		</div>
	{{else}}
		<ul class="info">
			<li class="input-wrapper_long">
				<div class="label_long">Почта</div>
				<div class="info__value">Email</div>
			</li>
			<li class="input-wrapper_long">
				<div class="label_long">Логин</div>
				<div class="info__value">{{login}}</div>
			</li>
			<li class="input-wrapper_long">
				<div class="label_long">Имя</div>
				<div class="info__value">{{first_name}}</div>
			</li>
			<li class="input-wrapper_long">
				<div class="label_long">Фамилия</div>
				<div class="info__value">{{second_name}}</div>
			</li>
			<li class="input-wrapper_long">
				<div class="label_long">Имя в чате</div>
				<div class="info__value">{{display_name}}</div>
			</li>
			<li class="input-wrapper_long">
				<div class="label_long">Телефон</div>
				<div class="info__value">Phone number</div>
			</li>
		</ul>
		<div class="actions">
			{{{ changeDataButton }}}
			{{{ changePasswordButton }}}
			{{{ outButton }}}	
		</div>
	{{/if}}
`;class da extends I{constructor(e){var t;super("section",{classNames:["profile"],backButton:new P({tagName:"button",type:"button",classNames:["back-btn","btn"],settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),M.go("/messenger")}}}),changeable:!1,userAvatar:k.getState().user?k.getState().user.avatar:"https://s.oxbridge.es/ox/Oxteacher/informacion%20personal/ficheros/201000401370_20221121_141124.png",userName:(t=k.getState().user)==null?void 0:t.first_name,changeDataButton:new P({tagName:"button",classNames:["actions__btn","btn","btn_flat"],text:"Изменить данные",settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),M.go("/settings/changedata")}}}),changePasswordButton:new P({tagName:"button",classNames:["actions__btn","btn","btn_flat"],text:"Изменить пароль",settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),M.go("/settings/changepass")}}}),outButton:new P({tagName:"button",classNames:["actions__btn","actions__btn_red","btn","btn_flat"],text:"Выйти",settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),Ee.logout(),M.go("/")}}}),...e}),this.props.classNames.forEach(s=>{this.element.classList.add(s)})}render(){return this.props.userAvatar!=k.getState().user.avatar&&(this.props.userAvatar=k.getState().user.avatar),this.compile(dt,this.props)}}const fa=X($)(da);class W extends I{constructor(e){super("li",e),this.element.classList.add("input-wrapper_long"),this.props.label={classNames:["label_long"],text:this.props.label.text},this.props.input={classNames:["input_long"],type:"text",name:this.props.input.name,value:this.props.input.value,placeholder:this.props.input.placeholder},this.props.settings={withInternalID:!0},this.props.events={focusout:t=>se(t.target)}}render(){return this.compile(ge,this.props)}}class ma extends pt{constructor(){super("/user")}async changeUserProfile(e){return this.http.put("/profile",{withCredentials:!0,data:JSON.stringify(e)})}async changeUserAvatar(e){return await this.http.put("/profile/avatar",{headers:{},withCredentials:!0,data:e})}async changeUserPassword(e){return await this.http.put("/password",{withCredentials:!0,data:JSON.stringify(e)})}async getUserById(e){return await this.http.get(`/${e}`,{withCredentials:!0})}async searchUserByLogin(e){return await this.http.post("/search",{withCredentials:!0,data:JSON.stringify(e)})}}class ga{constructor(){this.api=new ma}async changeUserProfile(e){try{const t=await this.api.changeUserProfile(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);const s=JSON.parse(t.response);return k.set("user",{...s,avatar:`${ke}${s.avatar}`}),t}catch(t){console.log(t.message)}}async changeUserPassword(e){try{const t=await this.api.changeUserPassword(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);return t}catch(t){console.log(t.message)}}async changeUserAvatar(e){try{const t=await this.api.changeUserAvatar(e);if(t.status!==200)throw new Error(`Ошибка: ${t.status} ${t.statusText||t.responseText}`);const s=JSON.parse(t.response);return k.set("user",{...s,avatar:`${ke}${s.avatar}`}),t}catch(t){console.log(t.message)}}}const ft=new ga;class va extends Q{constructor(){super("div",{classNames:["modal-overlay","modal__change-avatar-modal"],form:new D({classNames:["modal__form"],title:"Изменить Аватар",input:new z({classNames:["modal__input","input"],input:{classNames:["input"],name:"cahngeAvatarModalInput",type:"file"}}),submitBtn:new P({tagName:"button",type:"submit",classNames:["btn","actions__btn-save"],text:"Изменить",settings:{withInternalID:!0}}),events:{submit:e=>{e.preventDefault();const t=e.target[0].files[0];if(t){const s=new FormData;s.append("avatar",t),ft.changeUserAvatar(s),this.hide()}}}}),events:{click:e=>{this.hideModal(e)}}})}}class _a extends I{constructor(e){var t;super("section",{classNames:["profile"],backButton:new P({tagName:"button",classNames:["back-btn","btn"],settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),M.go("/settings")}}}),changeable:!0,userAvatar:k.getState().user?`${ke}${k.getState().user.avatar}`:"https://s.oxbridge.es/ox/Oxteacher/informacion%20personal/ficheros/201000401370_20221121_141124.png",userAvatarBtn:new P({tagName:"button",classNames:["btn","user__avatar__btn"],text:"Поменять аватар",settings:{withInternalID:!0},events:{click:()=>{const s=document.querySelector(".modal__change-avatar-modal");s.style.display="block"}}}),userName:(t=k.getState().user)==null?void 0:t.first_name,form:new D({classNames:["change-profile__form"],changeable:!0,email:new W({label:{text:"Почта"},input:{name:"email",value:"Email"}}),login:new W({label:{text:"Логин"},input:{name:"login",value:e.login}}),first_name:new W({label:{text:"Имя"},input:{name:"first_name",value:e.first_name}}),second_name:new W({label:{text:"Фамилия"},input:{name:"second_name",value:e.second_name}}),display_name:new W({label:{text:"Имя в чате"},input:{name:"display_name",value:e.display_name}}),phone:new W({label:{text:"Телефон"},input:{name:"phone",value:"Phone"}}),saveButton:new P({tagName:"button",classNames:["actions__btn-save","btn"],text:"Сохранить",settings:{withInternalID:!0}}),events:{submit:s=>{s.preventDefault();const h=U(s.target);h&&(ft.changeUserProfile(h),M.go("/settings"))}}}),changeAvatarModal:new va}),this.props.classNames.forEach(s=>{this.element.classList.add(s)})}render(){return this.props.userAvatar!=k.getState().user.avatar&&(this.props.userAvatar=k.getState().user.avatar),this.compile(dt,this.props)}}const ya=X($)(_a);class ba extends I{constructor(e){var t;super("section",{classNames:["profile"],backButton:new P({tagName:"button",classNames:["back-btn","btn"],settings:{withInternalID:!0},events:{click:s=>{s.preventDefault(),M.go("/settings")}}}),changeable:!0,userAvatar:k.getState().user?k.getState().user.avatar:"https://s.oxbridge.es/ox/Oxteacher/informacion%20personal/ficheros/201000401370_20221121_141124.png",userName:(t=k.getState().user)==null?void 0:t.first_name,form:new D({classNames:["change-profile__form"],changeable:!0,oldPassword:new W({label:{text:"Старый пароль"},input:{name:"oldPassword",placeholder:"•••••••"}}),newPassword:new W({label:{text:"Новый пароль"},input:{name:"newPassword",placeholder:"•••••••"}}),newPasswordAgain:new W({label:{text:"Повторите новый пароль"},input:{name:"newPasswordAgain",placeholder:"•••••••"}}),saveButton:new P({tagName:"button",classNames:["actions__btn-save","btn"],text:"Сохранить",settings:{withInternalID:!0}}),events:{submit:s=>{s.preventDefault();const h=U(s.target);h&&(ft.changeUserPassword(h),M.go("/settins"))}}}),...e}),this.props.classNames.forEach(s=>{this.element.classList.add(s)})}render(){return this.props.userAvatar!=k.getState().user.avatar&&(this.props.userAvatar=k.getState().user.avatar),this.compile(dt,this.props)}}const Sa=X($)(ba),ir=`
	<div class="error__title">{{ errorNumber }}</div>
	<div class="error__subtitle">{{ subtitle }}</div>
	{{{ button }}}
`;class wa extends I{constructor(){super("section",{classNames:["error"],errorNumber:"404",subtitle:"Не туда попали",button:new P({tagName:"button",type:"button",classNames:["error__link","btn_flat"],text:"Назад к чатам",settings:{withInternalID:!0},events:{click:()=>M.go("/messenger")}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(ir,this.props)}}class Ca extends I{constructor(){super("section",{classNames:["error"],errorNumber:"500",subtitle:"Мы уже фиксим",button:new P({tagName:"button",type:"button",classNames:["error__link","btn_flat"],text:"Назад к чатам",settings:{withInternalID:!0},events:{click:()=>M.go("/messenger")}})}),this.props.classNames.forEach(e=>{this.element.classList.add(e)})}render(){return this.compile(ir,this.props)}}window.addEventListener("DOMContentLoaded",async()=>{M.use("/",qn).use("/sign-up",Vn).use("/messenger",pa).use("/error500",Ca).use("/error404",wa).use("/settings",fa).use("/settings/changedata",ya).use("/settings/changepass",Sa);let r=!0;switch(window.location.pathname){case"/":case"/sign-up":r=!1;break}try{await Ee.fetchUser(),M.start(),r||M.go("/messenger")}catch(e){console.log(e),M.start(),r&&M.go("/")}});
